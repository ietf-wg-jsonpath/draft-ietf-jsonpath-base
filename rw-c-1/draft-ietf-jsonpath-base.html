<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>JSONPath: Query expressions for JSON</title>
<meta content="Stefan Gössner" name="author">
<meta content="Glyn Normington" name="author">
<meta content="Carsten Bormann" name="author">
<meta content="
       JSONPath defines a string syntax for selecting and extracting JSON (RFC 8259) values
from a JSON value. 
    " name="description">
<meta content="xml2rfc 3.18.0" name="generator">
<meta content="JSON" name="keyword">
<meta content="draft-ietf-jsonpath-base-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.18.0
    Python 3.11.5
    ConfigArgParse 1.5.3
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.3
    platformdirs 3.10.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.31.0
    setuptools 67.7.2
    six 1.16.0
    wcwidth 0.2.6
-->
<link href="draft-ietf-jsonpath-base.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">JSONPath</td>
<td class="right">September 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Gössner, et al.</td>
<td class="center">Expires 24 March 2024</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">JSONPath WG</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-jsonpath-base-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2023-09-21" class="published">21 September 2023</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2024-03-24">24 March 2024</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Gössner, <span class="editor">Ed.</span>
</div>
<div class="org">Fachhochschule Dortmund</div>
</div>
<div class="author">
      <div class="author-name">G. Normington, <span class="editor">Ed.</span>
</div>
</div>
<div class="author">
      <div class="author-name">C. Bormann, <span class="editor">Ed.</span>
</div>
<div class="org">Universität Bremen TZI</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">JSONPath: Query expressions for JSON</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">JSONPath defines a string syntax for selecting and extracting JSON (RFC 8259) values
from a JSON value.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ietf-jsonpath-base/">https://datatracker.ietf.org/doc/draft-ietf-jsonpath-base/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        JSON Path Working Group mailing list (<span><a href="mailto:jsonpath@ietf.org">mailto:jsonpath@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/jsonpath/">https://mailarchive.ietf.org/arch/browse/jsonpath/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/jsonpath/">https://www.ietf.org/mailman/listinfo/jsonpath/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/ietf-wg-jsonpath/draft-ietf-jsonpath-base">https://github.com/ietf-wg-jsonpath/draft-ietf-jsonpath-base</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 24 March 2024.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1.2.1">
                    <p id="section-toc.1-1.1.2.1.2.1.1" class="keepWithNext"><a href="#section-1.1.1" class="auto internal xref">1.1.1</a>.  <a href="#name-json-values-as-trees-of-nod" class="internal xref">JSON Values as Trees of Nodes</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-history" class="internal xref">History</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-json-values" class="internal xref">JSON Values</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="auto internal xref">1.4</a>.  <a href="#name-overview-of-jsonpath-expres" class="internal xref">Overview of JSONPath Expressions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.1">
                    <p id="section-toc.1-1.1.2.4.2.1.1"><a href="#section-1.4.1" class="auto internal xref">1.4.1</a>.  <a href="#name-identifiers" class="internal xref">Identifiers</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.2">
                    <p id="section-toc.1-1.1.2.4.2.2.1"><a href="#section-1.4.2" class="auto internal xref">1.4.2</a>.  <a href="#name-segments" class="internal xref">Segments</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.3">
                    <p id="section-toc.1-1.1.2.4.2.3.1"><a href="#section-1.4.3" class="auto internal xref">1.4.3</a>.  <a href="#name-selectors" class="internal xref">Selectors</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4.2.4">
                    <p id="section-toc.1-1.1.2.4.2.4.1"><a href="#section-1.4.4" class="auto internal xref">1.4.4</a>.  <a href="#name-summary" class="internal xref">Summary</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.5">
                <p id="section-toc.1-1.1.2.5.1"><a href="#section-1.5" class="auto internal xref">1.5</a>.  <a href="#name-jsonpath-examples" class="internal xref">JSONPath Examples</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-jsonpath-syntax-and-semanti" class="internal xref">JSONPath Syntax and Semantics</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-overview" class="internal xref">Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.1">
                    <p id="section-toc.1-1.2.2.1.2.1.1"><a href="#section-2.1.1" class="auto internal xref">2.1.1</a>.  <a href="#name-syntax" class="internal xref">Syntax</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.2">
                    <p id="section-toc.1-1.2.2.1.2.2.1"><a href="#section-2.1.2" class="auto internal xref">2.1.2</a>.  <a href="#name-semantics" class="internal xref">Semantics</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1.2.3">
                    <p id="section-toc.1-1.2.2.1.2.3.1"><a href="#section-2.1.3" class="auto internal xref">2.1.3</a>.  <a href="#name-example" class="internal xref">Example</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-root-identifier" class="internal xref">Root Identifier</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.1">
                    <p id="section-toc.1-1.2.2.2.2.1.1"><a href="#section-2.2.1" class="auto internal xref">2.2.1</a>.  <a href="#name-syntax-2" class="internal xref">Syntax</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.2">
                    <p id="section-toc.1-1.2.2.2.2.2.1"><a href="#section-2.2.2" class="auto internal xref">2.2.2</a>.  <a href="#name-semantics-2" class="internal xref">Semantics</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.3">
                    <p id="section-toc.1-1.2.2.2.2.3.1"><a href="#section-2.2.3" class="auto internal xref">2.2.3</a>.  <a href="#name-examples" class="internal xref">Examples</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-selectors-2" class="internal xref">Selectors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="auto internal xref">2.3.1</a>.  <a href="#name-name-selector" class="internal xref">Name Selector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1.2.1">
                        <p id="section-toc.1-1.2.2.3.2.1.2.1.1"><a href="#section-2.3.1.1" class="auto internal xref">2.3.1.1</a>.  <a href="#name-syntax-3" class="internal xref">Syntax</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1.2.2">
                        <p id="section-toc.1-1.2.2.3.2.1.2.2.1"><a href="#section-2.3.1.2" class="auto internal xref">2.3.1.2</a>.  <a href="#name-semantics-3" class="internal xref">Semantics</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1.2.3">
                        <p id="section-toc.1-1.2.2.3.2.1.2.3.1"><a href="#section-2.3.1.3" class="auto internal xref">2.3.1.3</a>.  <a href="#name-examples-2" class="internal xref">Examples</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="auto internal xref">2.3.2</a>.  <a href="#name-wildcard-selector" class="internal xref">Wildcard Selector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2.2.1">
                        <p id="section-toc.1-1.2.2.3.2.2.2.1.1"><a href="#section-2.3.2.1" class="auto internal xref">2.3.2.1</a>.  <a href="#name-syntax-4" class="internal xref">Syntax</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2.2.2">
                        <p id="section-toc.1-1.2.2.3.2.2.2.2.1"><a href="#section-2.3.2.2" class="auto internal xref">2.3.2.2</a>.  <a href="#name-semantics-4" class="internal xref">Semantics</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2.2.3">
                        <p id="section-toc.1-1.2.2.3.2.2.2.3.1"><a href="#section-2.3.2.3" class="auto internal xref">2.3.2.3</a>.  <a href="#name-examples-3" class="internal xref">Examples</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3">
                    <p id="section-toc.1-1.2.2.3.2.3.1"><a href="#section-2.3.3" class="auto internal xref">2.3.3</a>.  <a href="#name-index-selector" class="internal xref">Index Selector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3.2.1">
                        <p id="section-toc.1-1.2.2.3.2.3.2.1.1"><a href="#section-2.3.3.1" class="auto internal xref">2.3.3.1</a>.  <a href="#name-syntax-5" class="internal xref">Syntax</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3.2.2">
                        <p id="section-toc.1-1.2.2.3.2.3.2.2.1"><a href="#section-2.3.3.2" class="auto internal xref">2.3.3.2</a>.  <a href="#name-semantics-5" class="internal xref">Semantics</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3.2.3">
                        <p id="section-toc.1-1.2.2.3.2.3.2.3.1"><a href="#section-2.3.3.3" class="auto internal xref">2.3.3.3</a>.  <a href="#name-examples-4" class="internal xref">Examples</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.4">
                    <p id="section-toc.1-1.2.2.3.2.4.1"><a href="#section-2.3.4" class="auto internal xref">2.3.4</a>.  <a href="#name-array-slice-selector" class="internal xref">Array Slice selector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.4.2.1">
                        <p id="section-toc.1-1.2.2.3.2.4.2.1.1"><a href="#section-2.3.4.1" class="auto internal xref">2.3.4.1</a>.  <a href="#name-syntax-6" class="internal xref">Syntax</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.4.2.2">
                        <p id="section-toc.1-1.2.2.3.2.4.2.2.1"><a href="#section-2.3.4.2" class="auto internal xref">2.3.4.2</a>.  <a href="#name-semantics-6" class="internal xref">Semantics</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.4.2.3">
                        <p id="section-toc.1-1.2.2.3.2.4.2.3.1"><a href="#section-2.3.4.3" class="auto internal xref">2.3.4.3</a>.  <a href="#name-examples-5" class="internal xref">Examples</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.5">
                    <p id="section-toc.1-1.2.2.3.2.5.1"><a href="#section-2.3.5" class="auto internal xref">2.3.5</a>.  <a href="#name-filter-selector" class="internal xref">Filter selector</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.5.2.1">
                        <p id="section-toc.1-1.2.2.3.2.5.2.1.1"><a href="#section-2.3.5.1" class="auto internal xref">2.3.5.1</a>.  <a href="#name-syntax-7" class="internal xref">Syntax</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.5.2.2">
                        <p id="section-toc.1-1.2.2.3.2.5.2.2.1"><a href="#section-2.3.5.2" class="auto internal xref">2.3.5.2</a>.  <a href="#name-semantics-7" class="internal xref">Semantics</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.5.2.3">
                        <p id="section-toc.1-1.2.2.3.2.5.2.3.1"><a href="#section-2.3.5.3" class="auto internal xref">2.3.5.3</a>.  <a href="#name-examples-6" class="internal xref">Examples</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="auto internal xref">2.4</a>.  <a href="#name-function-extensions" class="internal xref">Function Extensions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.1">
                    <p id="section-toc.1-1.2.2.4.2.1.1"><a href="#section-2.4.1" class="auto internal xref">2.4.1</a>.  <a href="#name-type-system-for-function-ex" class="internal xref">Type System for Function Expressions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.2">
                    <p id="section-toc.1-1.2.2.4.2.2.1"><a href="#section-2.4.2" class="auto internal xref">2.4.2</a>.  <a href="#name-type-conversion" class="internal xref">Type Conversion</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.3">
                    <p id="section-toc.1-1.2.2.4.2.3.1"><a href="#section-2.4.3" class="auto internal xref">2.4.3</a>.  <a href="#name-well-typedness-of-function-" class="internal xref">Well-Typedness of Function Expressions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.4">
                    <p id="section-toc.1-1.2.2.4.2.4.1"><a href="#section-2.4.4" class="auto internal xref">2.4.4</a>.  <a href="#name-length-function-extension" class="internal xref"><code>length()</code> Function Extension</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.5">
                    <p id="section-toc.1-1.2.2.4.2.5.1"><a href="#section-2.4.5" class="auto internal xref">2.4.5</a>.  <a href="#name-count-function-extension" class="internal xref"><code>count()</code> Function Extension</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.6">
                    <p id="section-toc.1-1.2.2.4.2.6.1"><a href="#section-2.4.6" class="auto internal xref">2.4.6</a>.  <a href="#name-match-function-extension" class="internal xref"><code>match()</code> Function Extension</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.7">
                    <p id="section-toc.1-1.2.2.4.2.7.1"><a href="#section-2.4.7" class="auto internal xref">2.4.7</a>.  <a href="#name-search-function-extension" class="internal xref"><code>search()</code> Function Extension</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.8">
                    <p id="section-toc.1-1.2.2.4.2.8.1"><a href="#section-2.4.8" class="auto internal xref">2.4.8</a>.  <a href="#name-value-function-extension" class="internal xref"><code>value()</code> Function Extension</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4.2.9">
                    <p id="section-toc.1-1.2.2.4.2.9.1"><a href="#section-2.4.9" class="auto internal xref">2.4.9</a>.  <a href="#name-examples-7" class="internal xref">Examples</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="auto internal xref">2.5</a>.  <a href="#name-segments-2" class="internal xref">Segments</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.1">
                    <p id="section-toc.1-1.2.2.5.2.1.1"><a href="#section-2.5.1" class="auto internal xref">2.5.1</a>.  <a href="#name-child-segment" class="internal xref">Child Segment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.1.2.1">
                        <p id="section-toc.1-1.2.2.5.2.1.2.1.1"><a href="#section-2.5.1.1" class="auto internal xref">2.5.1.1</a>.  <a href="#name-syntax-8" class="internal xref">Syntax</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.1.2.2">
                        <p id="section-toc.1-1.2.2.5.2.1.2.2.1"><a href="#section-2.5.1.2" class="auto internal xref">2.5.1.2</a>.  <a href="#name-semantics-8" class="internal xref">Semantics</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.1.2.3">
                        <p id="section-toc.1-1.2.2.5.2.1.2.3.1"><a href="#section-2.5.1.3" class="auto internal xref">2.5.1.3</a>.  <a href="#name-examples-8" class="internal xref">Examples</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.2">
                    <p id="section-toc.1-1.2.2.5.2.2.1"><a href="#section-2.5.2" class="auto internal xref">2.5.2</a>.  <a href="#name-descendant-segment" class="internal xref">Descendant Segment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.2.2.1">
                        <p id="section-toc.1-1.2.2.5.2.2.2.1.1"><a href="#section-2.5.2.1" class="auto internal xref">2.5.2.1</a>.  <a href="#name-syntax-9" class="internal xref">Syntax</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.2.2.2">
                        <p id="section-toc.1-1.2.2.5.2.2.2.2.1"><a href="#section-2.5.2.2" class="auto internal xref">2.5.2.2</a>.  <a href="#name-semantics-9" class="internal xref">Semantics</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5.2.2.2.3">
                        <p id="section-toc.1-1.2.2.5.2.2.2.3.1"><a href="#section-2.5.2.3" class="auto internal xref">2.5.2.3</a>.  <a href="#name-examples-9" class="internal xref">Examples</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a href="#section-2.6" class="auto internal xref">2.6</a>.  <a href="#name-semantics-of-null" class="internal xref">Semantics of <code>null</code></a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.6.2.1">
                    <p id="section-toc.1-1.2.2.6.2.1.1"><a href="#section-2.6.1" class="auto internal xref">2.6.1</a>.  <a href="#name-examples-10" class="internal xref">Examples</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.7">
                <p id="section-toc.1-1.2.2.7.1"><a href="#section-2.7" class="auto internal xref">2.7</a>.  <a href="#name-normalized-paths" class="internal xref">Normalized Paths</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.7.2.1">
                    <p id="section-toc.1-1.2.2.7.2.1.1"><a href="#section-2.7.1" class="auto internal xref">2.7.1</a>.  <a href="#name-examples-11" class="internal xref">Examples</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-registration-of-media-type-" class="internal xref">Registration of Media Type application/jsonpath</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-function-extensions-2" class="internal xref">Function Extensions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-attack-vectors-on-jsonpath-" class="internal xref">Attack Vectors on JSONPath Implementations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-attack-vectors-on-how-jsonp" class="internal xref">Attack Vectors on How JSONPath Queries are Formed</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-attacks-on-security-mechani" class="internal xref">Attacks on Security Mechanisms that Employ JSONPath</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-collected-abnf-grammars" class="internal xref">Collected ABNF grammars</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-inspired-by-xpath" class="internal xref">Inspired by XPath</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#appendix-B.1" class="auto internal xref">B.1</a>.  <a href="#name-jsonpath-and-xpath" class="internal xref">JSONPath and XPath</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-json-pointer" class="internal xref">JSON Pointer</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-E" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-F" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">JSON <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span> is a popular representation
format for structured data values.
JSONPath defines a string syntax for selecting and extracting JSON values
from a JSON value.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">JSONPath is not intended as a replacement for, but as a more powerful
companion to, JSON Pointer <span>[<a href="#RFC6901" class="cite xref">RFC6901</a>]</span>. See <a href="#json-pointer" class="auto internal xref">Appendix C</a>.<a href="#section-1-2" class="pilcrow">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">The grammatical rules in this document are to be interpreted as ABNF,
as described in <span>[<a href="#RFC5234" class="cite xref">RFC5234</a>]</span>.
ABNF terminal values in this document define Unicode code points rather than
their UTF-8 encoding.
For example, the Unicode PLACE OF INTEREST SIGN (U+2318) would be defined
in ABNF as <code>%x2318</code>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">Functions are referred to using the function name followed by a pair
of parentheses, as in <code>fname()</code>.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">The terminology of <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span> applies except where clarified below.
The terms "Primitive" and "Structured" are used to group
different kinds of values as in <span><a href="https://rfc-editor.org/rfc/rfc8259#section-1" class="relref">Section 1</a> of [<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>; JSON Objects and Arrays are
structured, all other values are primitive.
Definitions for "Object", "Array", "Number", and "String" remain
unchanged.
Importantly "object" and "array" in particular do not take on a
generic meaning, such as they would in a general programming context.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1-5">Additional terms used in this document are defined below.<a href="#section-1.1-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.1-6">
          <dt id="section-1.1-6.1">Value:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.2">
            <p id="section-1.1-6.2.1">As per <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>, a structure conforming to the generic data model of JSON, i.e.,
composed of constituents such as structured values, namely JSON objects and arrays, and
primitive data, namely numbers and text strings as well as the special
values null, true, and false.
<span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span> focuses on the textual representation of JSON values and
does not fully define the value abstraction assumed here.<a href="#section-1.1-6.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.3">Member:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.4">
            <p id="section-1.1-6.4.1">A name/value pair in an object.  (A member is not itself a value.)<a href="#section-1.1-6.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.5">Name:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.6">
            <p id="section-1.1-6.6.1">The name (a string) in a name/value pair constituting a member.
This is also used in <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>, but that specification does not
formally define it.
It is included here for completeness.<a href="#section-1.1-6.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.7">Element:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.8">
            <p id="section-1.1-6.8.1">A value in a JSON array.<a href="#section-1.1-6.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.9">Index:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.10">
            <p id="section-1.1-6.10.1">An integer that identifies a specific element in an array.<a href="#section-1.1-6.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.11">Query:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.12">
            <p id="section-1.1-6.12.1">Short name for a JSONPath expression.<a href="#section-1.1-6.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.13">Query Argument:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.14">
            <p id="section-1.1-6.14.1">Short name for the value a JSONPath expression is applied to.
(Also used for actual parameters of function-expressions.)<a href="#section-1.1-6.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.15">Location:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.16">
            <p id="section-1.1-6.16.1">the position of a value within the query argument. This can be thought of
as a sequence of names and indexes navigating to the value through
the objects and arrays in the query argument, with the empty sequence
indicating the query argument itself.
A location can be represented as a Normalized Path (defined below).<a href="#section-1.1-6.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.17">Node:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.18">
            <p id="section-1.1-6.18.1">The pair of a value along with its location within the query argument.<a href="#section-1.1-6.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.19">Root Node:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.20">
            <p id="section-1.1-6.20.1">The unique node whose value is the entire query argument.<a href="#section-1.1-6.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.21">Root Node Identifier:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.22">
            <p id="section-1.1-6.22.1">The expression <code>$</code> which refers to the root node of the query argument.<a href="#section-1.1-6.22.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.23">Current Node Identifier:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.24">
            <p id="section-1.1-6.24.1">The expression <code>@</code> which refers to the current node in the context
of the evaluation of a filter expression (described later).<a href="#section-1.1-6.24.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.25">Children (of a node):</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.26">
            <p id="section-1.1-6.26.1">If the node is an array, the nodes of its elements.
If the node is an object, the nodes of its member values.
If the node is neither an array nor an object, it has no children.<a href="#section-1.1-6.26.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.27">Descendants (of a node):</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.28">
            <p id="section-1.1-6.28.1">The children of the node, together with the children of its children, and so forth
recursively. More formally, the "descendants" relation between nodes is the transitive
closure of the "children" relation.<a href="#section-1.1-6.28.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.29">Depth (of a descendant node within a value):</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.30">
            <p id="section-1.1-6.30.1">The number of ancestors of the node within the value. The root node of the value has depth zero,
the children of the root node have depth one, their children have depth two, and so forth.<a href="#section-1.1-6.30.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.31">Nodelist:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.32">
            <p id="section-1.1-6.32.1">A list of nodes.
While a nodelist can be represented in JSON, e.g. as an array, this document
does not require or assume any particular representation.<a href="#section-1.1-6.32.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.33">Parameter:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.34">
            <p id="section-1.1-6.34.1">Formal parameter (of a function) that can take a function argument
(an actual parameter) in a function-expression.<a href="#section-1.1-6.34.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.35">Normalized Path:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.36">
            <p id="section-1.1-6.36.1">A form of JSONPath expression that identifies a node in a value by
providing a query that results in exactly that node.  Each node in a
query argument is identified by exactly one Normalized Path (we say, the
Normalized Path is "unique" for that node), and, to be a Normalized
Path for a specific query argument, the Normalized Path needs to identify
exactly one node. Similar
to, but syntactically different from, a JSON Pointer <span>[<a href="#RFC6901" class="cite xref">RFC6901</a>]</span>.
Note: This definition is based on the syntactical definition in <a href="#normalized-paths" class="auto internal xref">Section 2.7</a>;
JSONPath expressions that identify a node in a value but do not conform to that
syntax are not Normalized Paths.<a href="#section-1.1-6.36.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.37">Unicode Scalar Value:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.38">
            <p id="section-1.1-6.38.1">Any Unicode <span>[<a href="#UNICODE" class="cite xref">UNICODE</a>]</span> code point except high-surrogate and low-surrogate code points.
In other words, integers in either of the inclusive base 16 ranges 0 to D7FF and
E000 to 10FFFF. JSONPath queries are sequences of Unicode scalar values.<a href="#section-1.1-6.38.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.39">Segment:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.40">
            <p id="section-1.1-6.40.1">One of the constructs which select children (<code>[&lt;selectors&gt;]</code>)
or descendants (<code>..[&lt;selectors&gt;]</code>) of an input value.<a href="#section-1.1-6.40.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.41">Selector:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.42">
            <p id="section-1.1-6.42.1">A single item within a segment that takes the input value and produces a nodelist
consisting of child nodes of the input value.<a href="#section-1.1-6.42.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-6.43">Singular Query:</dt>
          <dd style="margin-left: 1.5em" id="section-1.1-6.44">
            <p id="section-1.1-6.44.1">A JSONPath expression built from segments that have been syntactically restricted in
a certain way (<a href="#filter-selector-syntax" class="auto internal xref">Section 2.3.5.1</a>) so that, regardless of the input
value, the expression produces a nodelist containing at most one node.
Note: JSONPath expressions that always produce a singular nodelist but do not
conform to the syntax in <a href="#filter-selector-syntax" class="auto internal xref">Section 2.3.5.1</a> are not Singular Queries.<a href="#section-1.1-6.44.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<div id="json-values-as-trees-of-nodes">
<section id="section-1.1.1">
          <h4 id="name-json-values-as-trees-of-nod">
<a href="#section-1.1.1" class="section-number selfRef">1.1.1. </a><a href="#name-json-values-as-trees-of-nod" class="section-name selfRef">JSON Values as Trees of Nodes</a>
          </h4>
<p id="section-1.1.1-1">This document models the query argument as a tree of JSON values, each
with its own node.
A node is either the root node or one of its descendants.<a href="#section-1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1.1-2">This document models the result of applying a query to the
query argument as a nodelist (a list of nodes).<a href="#section-1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1.1-3">Nodes are the selectable parts of the query argument.
The only parts of an object that can be selected by a query are the
member values. Member names and members (name/value pairs) cannot be
selected.
Thus, member values have nodes, but members and member names do not.
Similarly, member values are children of an object, but members and
member names are not.<a href="#section-1.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="history">
<section id="section-1.2">
        <h3 id="name-history">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-history" class="section-name selfRef">History</a>
        </h3>
<p id="section-1.2-1">This document is based on <span class="contact-name">Stefan Gössner</span>'s popular JSONPath proposal
dated 2007-02-21 <span>[<a href="#JSONPath-orig" class="cite xref">JSONPath-orig</a>]</span>, builds on the experience from the widespread
deployment of its implementations, and provides a normative specification for it.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2"><a href="#inspired-by-xpath" class="auto internal xref">Appendix B</a> describes how JSONPath was inspired by XML's XPath
<span>[<a href="#XPath" class="cite xref">XPath</a>]</span>.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">JSONPath was intended as a light-weight companion to JSON
implementations in programming languages such as PHP and JavaScript,
so instead of defining its own expression language, like XPath did,
JSONPath delegated parts of a query to the underlying
runtime, e.g., JavaScript's <code>eval()</code> function.
As JSONPath was implemented in more environments, JSONPath
expressions became decreasingly portable.
For example, regular expression processing was often delegated to a
convenient regular expression engine.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<p id="section-1.2-4">This document aims to remove such implementation-specific dependencies and
serve as a common JSONPath specification that can be used across
programming languages and environments.
This means that backwards compatibility is
not always achieved; a design principle of this document is to
go with a "consensus" between implementations even if it is rough, as
long as that does not jeopardize the objective of obtaining a usable,
stable JSON query language.<a href="#section-1.2-4" class="pilcrow">¶</a></p>
<p id="section-1.2-5">The term <em>JSONPath</em> was chosen because of the XPath inspiration and also because
the outcome of a query consists of <em>paths</em> identifying nodes in the
JSON query argument.<a href="#section-1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="json-values">
<section id="section-1.3">
        <h3 id="name-json-values">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-json-values" class="section-name selfRef">JSON Values</a>
        </h3>
<p id="section-1.3-1">The JSON value a JSONPath query is applied to is, by definition, a
valid JSON value. A JSON value is often constructed by parsing
a JSON text.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3-2">The parsing of a JSON text into a JSON value and what happens if a JSON
text does not represent valid JSON are not defined by this document.
Sections <a href="https://rfc-editor.org/rfc/rfc8259#section-4" class="relref">4</a> and <a href="https://rfc-editor.org/rfc/rfc8259#section-8" class="relref">8</a> of <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span> identify specific situations that may
conform to the grammar for JSON texts but are not interoperable uses
of JSON, as they may cause unpredictable behavior.
This document does not attempt to define predictable
behavior for JSONPath queries in these situations.<a href="#section-1.3-2" class="pilcrow">¶</a></p>
<p id="section-1.3-3">Specifically, the "Semantics" subsections of Sections
<a href="#name-selector" class="auto internal xref">2.3.1</a>, <a href="#wildcard-selector" class="auto internal xref">2.3.2</a>,
<a href="#filter-selector" class="auto internal xref">2.3.5</a>, and <a href="#descendant-segment" class="auto internal xref">2.5.2</a> describe behavior that
becomes unpredictable when the JSON value for one of the objects
under consideration was constructed out of JSON text that exhibits
multiple members for a single object that share the same member name
("duplicate names", see <span><a href="https://rfc-editor.org/rfc/rfc8259#section-4" class="relref">Section 4</a> of [<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>).
Also, selecting a child by name (<a href="#name-selector" class="auto internal xref">Section 2.3.1</a>) and comparing strings
(<a href="#comparisons" class="auto internal xref">Section 2.3.5.2.2</a> in <a href="#filter-selector" class="auto internal xref">Section 2.3.5</a>) assume these
strings are sequences of Unicode scalar values, becoming unpredictable
if they are not (<span><a href="https://rfc-editor.org/rfc/rfc8259#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>).<a href="#section-1.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="overview">
<section id="section-1.4">
        <h3 id="name-overview-of-jsonpath-expres">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-overview-of-jsonpath-expres" class="section-name selfRef">Overview of JSONPath Expressions</a>
        </h3>
<p id="section-1.4-1">A JSONPath expression is applied to a JSON value, known as the query argument.
The output is a nodelist.<a href="#section-1.4-1" class="pilcrow">¶</a></p>
<p id="section-1.4-2">A JSONPath expression consists of an identifier followed by a series
of zero or more segments each of which contains one or more selectors.<a href="#section-1.4-2" class="pilcrow">¶</a></p>
<div id="ids">
<section id="section-1.4.1">
          <h4 id="name-identifiers">
<a href="#section-1.4.1" class="section-number selfRef">1.4.1. </a><a href="#name-identifiers" class="section-name selfRef">Identifiers</a>
          </h4>
<p id="section-1.4.1-1">The root node identifier <code>$</code> refers to the root node of the query argument,
i.e., to the argument as a whole.<a href="#section-1.4.1-1" class="pilcrow">¶</a></p>
<p id="section-1.4.1-2">The current node identifier <code>@</code> refers to the current node in the context
of the evaluation of a filter expression (<a href="#filter-selector" class="auto internal xref">Section 2.3.5</a>).<a href="#section-1.4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="segments">
<section id="section-1.4.2">
          <h4 id="name-segments">
<a href="#section-1.4.2" class="section-number selfRef">1.4.2. </a><a href="#name-segments" class="section-name selfRef">Segments</a>
          </h4>
<p id="section-1.4.2-1">Segments select children (<code>[&lt;selectors&gt;]</code>) or descendants (<code>..[&lt;selectors&gt;]</code>) of an input value.<a href="#section-1.4.2-1" class="pilcrow">¶</a></p>
<p id="section-1.4.2-2">Segments can use <em>bracket notation</em>, for example:<a href="#section-1.4.2-2" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-1.4.2-3">
<pre>
$['store']['book'][0]['title']
</pre><a href="#section-1.4.2-3" class="pilcrow">¶</a>
</div>
<p id="section-1.4.2-4">or the more compact <em>dot notation</em>, for example:<a href="#section-1.4.2-4" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-1.4.2-5">
<pre>
$.store.book[0].title
</pre><a href="#section-1.4.2-5" class="pilcrow">¶</a>
</div>
<p id="section-1.4.2-6">Bracket notation contains a comma separated list of one or more selectors of any kind.
Selectors are detailed in the next section.<a href="#section-1.4.2-6" class="pilcrow">¶</a></p>
<p id="section-1.4.2-7">A JSONPath expression may use a combination of bracket and dot notations.<a href="#section-1.4.2-7" class="pilcrow">¶</a></p>
<p id="section-1.4.2-8">This document treats the bracket notations as canonical and defines the shorthand dot notation in terms
of bracket notation. Examples and descriptions use shorthands where convenient.<a href="#section-1.4.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="selectors">
<section id="section-1.4.3">
          <h4 id="name-selectors">
<a href="#section-1.4.3" class="section-number selfRef">1.4.3. </a><a href="#name-selectors" class="section-name selfRef">Selectors</a>
          </h4>
<p id="section-1.4.3-1">A name selector, e.g. <code>'name'</code>, selects a named child of an object.<a href="#section-1.4.3-1" class="pilcrow">¶</a></p>
<p id="section-1.4.3-2">An index selector, e.g. <code>3</code>, selects an indexed child of an array.<a href="#section-1.4.3-2" class="pilcrow">¶</a></p>
<p id="section-1.4.3-3">A wildcard <code>*</code> (<a href="#wildcard-selector" class="auto internal xref">Section 2.3.2</a>) in the expression <code>[*]</code> selects all children of a
node and in the expression <code>..[*]</code> selects all descendants of a node.<a href="#section-1.4.3-3" class="pilcrow">¶</a></p>
<p id="section-1.4.3-4">An array slice <code>start:end:step</code> (<a href="#slice" class="auto internal xref">Section 2.3.4</a>) selects a series of
elements from an array, giving a start position, an end position, and
an optional step value that moves the position from the start to the
end.<a href="#section-1.4.3-4" class="pilcrow">¶</a></p>
<p id="section-1.4.3-5">Filter expressions <code>?&lt;logical-expr&gt;</code> select certain children of an object or array, as in:<a href="#section-1.4.3-5" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-1.4.3-6">
<pre>
$.store.book[?@.price &lt; 10].title
</pre><a href="#section-1.4.3-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="summary">
<section id="section-1.4.4">
          <h4 id="name-summary">
<a href="#section-1.4.4" class="section-number selfRef">1.4.4. </a><a href="#name-summary" class="section-name selfRef">Summary</a>
          </h4>
<p id="section-1.4.4-1"><a href="#tbl-overview" class="auto internal xref">Table 1</a> provides a brief overview of JSONPath syntax.<a href="#section-1.4.4-1" class="pilcrow">¶</a></p>
<span id="name-overview-of-jsonpath-syntax"></span><div id="tbl-overview">
<table class="center" id="table-1">
            <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-overview-of-jsonpath-syntax" class="selfRef">Overview of JSONPath syntax</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Syntax Element</th>
                <th class="text-left" rowspan="1" colspan="1">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>$</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#root-identifier" class="internal xref">root node identifier</a> (<a href="#root-identifier" class="auto internal xref">Section 2.2</a>)</span>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>@</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#filter-selector" class="internal xref">current node identifier</a> (<a href="#filter-selector" class="auto internal xref">Section 2.3.5</a>)</span> (valid only within filter selectors)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>[&lt;selectors&gt;]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#child-segment" class="internal xref">child segment</a> (<a href="#child-segment" class="auto internal xref">Section 2.5.1</a>)</span> selects zero or more children of a node; contains one or more selectors, separated by commas</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>.name</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">shorthand for <code>['name']</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>.*</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">shorthand for <code>[*]</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>..[&lt;selectors&gt;]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#descendant-segment" class="internal xref">descendant segment</a> (<a href="#descendant-segment" class="auto internal xref">Section 2.5.2</a>)</span>: selects zero or more descendants of a node; contains one or more selectors, separated by commas</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>..name</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">shorthand for <code>..['name']</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>..*</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">shorthand for <code>..[*]</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>'name'</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#name-selector" class="internal xref">name selector</a> (<a href="#name-selector" class="auto internal xref">Section 2.3.1</a>)</span>: selects a named child of an object</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>*</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#name-selector" class="internal xref">wildcard selector</a> (<a href="#name-selector" class="auto internal xref">Section 2.3.1</a>)</span>: selects all children of a node</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>3</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#index-selector" class="internal xref">index selector</a> (<a href="#index-selector" class="auto internal xref">Section 2.3.3</a>)</span>: selects an indexed child of an array (from 0)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>0:100:5</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#slice" class="internal xref">array slice selector</a> (<a href="#slice" class="auto internal xref">Section 2.3.4</a>)</span>: start:end:step for arrays</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>?&lt;logical-expr&gt;</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#filter-selector" class="internal xref">filter selector</a> (<a href="#filter-selector" class="auto internal xref">Section 2.3.5</a>)</span>: selects particular children using a logical expression</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>length(@.foo)</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span><a href="#fnex" class="internal xref">function extension</a> (<a href="#fnex" class="auto internal xref">Section 2.4</a>)</span>: invokes a function in a filter expression</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
<div id="jsonpath-examples">
<section id="section-1.5">
        <h3 id="name-jsonpath-examples">
<a href="#section-1.5" class="section-number selfRef">1.5. </a><a href="#name-jsonpath-examples" class="section-name selfRef">JSONPath Examples</a>
        </h3>
<p id="section-1.5-1">This section is informative. It provides examples of JSONPath expressions.<a href="#section-1.5-1" class="pilcrow">¶</a></p>
<p id="section-1.5-2">The examples are based on the simple JSON value shown in
<a href="#fig-example-value" class="auto internal xref">Figure 1</a>, representing a bookstore (that also has a bicycle).<a href="#section-1.5-2" class="pilcrow">¶</a></p>
<span id="name-example-json-value"></span><div id="fig-example-value">
<figure id="figure-1">
          <div class="lang-json sourcecode" id="section-1.5-3.1">
<pre>
{ "store": {
    "book": [
      { "category": "reference",
        "author": "Nigel Rees",
        "title": "Sayings of the Century",
        "price": 8.95
      },
      { "category": "fiction",
        "author": "Evelyn Waugh",
        "title": "Sword of Honour",
        "price": 12.99
      },
      { "category": "fiction",
        "author": "Herman Melville",
        "title": "Moby Dick",
        "isbn": "0-553-21311-3",
        "price": 8.99
      },
      { "category": "fiction",
        "author": "J. R. R. Tolkien",
        "title": "The Lord of the Rings",
        "isbn": "0-395-19395-8",
        "price": 22.99
      }
    ],
    "bicycle": {
      "color": "red",
      "price": 399
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-example-json-value" class="selfRef">Example JSON value</a>
          </figcaption></figure>
</div>
<p id="section-1.5-4"><a href="#tbl-example" class="auto internal xref">Table 2</a> shows some JSONPath queries that might be applied to this example and their intended results.<a href="#section-1.5-4" class="pilcrow">¶</a></p>
<span id="name-example-jsonpath-expression"></span><div id="tbl-example">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-example-jsonpath-expression" class="selfRef">Example JSONPath expressions and their intended results when applied to the example JSON value</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">JSONPath</th>
              <th class="text-left" rowspan="1" colspan="1">Intended result</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$.store.book[*].author</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the authors of all books in the store</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..author</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all authors</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$.store.*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all things in store, which are some books and a red bicycle</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$.store..price</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the prices of everything in the store</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[2]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the third book</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[2].author</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the third book's author</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[2].publisher</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">empty result: the third book does not have a "publisher" member</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[-1]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the last book in order</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[0,1]</code><br><code>$..book[:2]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the first two books</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[?@.isbn]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all books with an ISBN number</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[?@.price&lt;10]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all books cheaper than 10</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all member values and array elements contained in the input value</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<div id="jsonpath-syntax-and-semantics">
<section id="section-2">
      <h2 id="name-jsonpath-syntax-and-semanti">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-jsonpath-syntax-and-semanti" class="section-name selfRef">JSONPath Syntax and Semantics</a>
      </h2>
<div id="synsem-overview">
<section id="section-2.1">
        <h3 id="name-overview">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<p id="section-2.1-1">A JSONPath <em>expression</em> is a string which, when applied to a JSON value,
the <em>query argument</em>, selects zero or more nodes of the argument and outputs
these nodes as a nodelist.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">A query <span class="bcp14">MUST</span> be encoded using UTF-8.
The grammar for queries given in this document assumes that its UTF-8 form is first decoded into
Unicode code points as described
in <span>[<a href="#RFC3629" class="cite xref">RFC3629</a>]</span>; implementation approaches that lead to an equivalent
result are possible.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">A string to be used as a JSONPath query needs to be <em>well-formed</em> and
<em>valid</em>.
A string is a well-formed JSONPath query if it conforms to the ABNF syntax in this document.
A well-formed JSONPath query is valid if it also fulfills all semantic
requirements posed by this document, which are:<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-2.1-4">
<li id="section-2.1-4.1">Integer numbers in the JSONPath query that are relevant
to the JSONPath processing (e.g., index values and steps) <span class="bcp14">MUST</span> be
within the range of exact integer values defined in I-JSON (see <span><a href="https://rfc-editor.org/rfc/rfc7493#section-2.2" class="relref">Section 2.2</a> of [<a href="#RFC7493" class="cite xref">RFC7493</a>]</span>), namely within the interval [−(2<sup>53</sup>)+1,
(2<sup>53</sup>)−1].<a href="#section-2.1-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-2.1-4.2">Uses of function extensions <span class="bcp14">MUST</span> be <em>well-typed</em>,
as described in <a href="#fnex" class="auto internal xref">Section 2.4</a>.<a href="#section-2.1-4.2" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-2.1-5">A JSONPath implementation <span class="bcp14">MUST</span> raise an error for any query which is not
well-formed and valid.
The well-formedness and the validity of JSONPath queries are independent of
the JSON value the query is applied to. No further errors relating to the
well-formedness and the validity of a JSONPath query can be
raised during application of the query to a value.
This clearly separates well-formedness/validity errors in the query
from mismatches that may actually stem from flaws in the data.<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">Mismatches between the structure expected by a valid query
and the structure found in the data can lead to empty query results,
which may be unexpected and indicate bugs in either.
JSONPath implementations might therefore want to provide diagnostics
to the application developer that aid in finding the cause of empty
results.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">Obviously, an implementation can still fail when executing a JSONPath
query, e.g., because of resource depletion, but this is not modeled in
this document.  However, the implementation <span class="bcp14">MUST NOT</span>
silently malfunction.  Specifically, if a valid JSONPath query is
evaluated against a structured value whose size is too large to
process the query correctly (for instance requiring the processing of
numbers that fall outside the range of exact values), the implementation
<span class="bcp14">MUST</span> provide an indication of overflow.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1-8">(Readers familiar with the HTTP error model may be reminded of 400
type errors when pondering well-formedness and validity, while
resource depletion and related errors are comparable to 500 type
errors.)<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<div id="syntax">
<section id="section-2.1.1">
          <h4 id="name-syntax">
<a href="#section-2.1.1" class="section-number selfRef">2.1.1. </a><a href="#name-syntax" class="section-name selfRef">Syntax</a>
          </h4>
<p id="section-2.1.1-1">Syntactically, a JSONPath query consists of a root identifier (<code>$</code>), which
stands for a nodelist that contains the root node of the query argument,
followed by a possibly empty sequence of <em>segments</em>.<a href="#section-2.1.1-1" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.1.1-2">
<pre>
jsonpath-query      = root-identifier segments
segments            = *(S segment)

B                   = %x20 /    ; Space
                      %x09 /    ; Horizontal tab
                      %x0A /    ; Line feed or New line
                      %x0D      ; Carriage return
S                   = *B        ; optional blank space
</pre><a href="#section-2.1.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.1-3">The syntax and semantics of segments are defined in <a href="#segments-details" class="auto internal xref">Section 2.5</a>.<a href="#section-2.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics">
<section id="section-2.1.2">
          <h4 id="name-semantics">
<a href="#section-2.1.2" class="section-number selfRef">2.1.2. </a><a href="#name-semantics" class="section-name selfRef">Semantics</a>
          </h4>
<p id="section-2.1.2-1">In this document, the semantics of a JSONPath query define the
required results and do not prescribe the internal workings of an
implementation.  This document may describe semantics in a procedural
step-by-step fashion, but such descriptions are normative only in the sense that any implementation <span class="bcp14">MUST</span> produce an identical result, but not in the sense that implementors are required to use the same algorithms.<a href="#section-2.1.2-1" class="pilcrow">¶</a></p>
<p id="section-2.1.2-2">The semantics are that a valid query is executed against a value,
the <em>query argument</em>, and produces a nodelist (i.e., a list of zero or more nodes of the value).<a href="#section-2.1.2-2" class="pilcrow">¶</a></p>
<p id="section-2.1.2-3">The query is a root identifier followed by a sequence of zero or more segments, each of
which is applied to the result of the previous root identifier or segment and provides
input to the next segment.
These results and inputs take the form of nodelists.<a href="#section-2.1.2-3" class="pilcrow">¶</a></p>
<p id="section-2.1.2-4">The nodelist resulting from the root identifier contains a single node,
the query argument.
The nodelist resulting from the last segment is presented as the
result of the query. Depending on the specific API, it might be
presented as an array of the JSON values at the nodes, an array of
Normalized Paths referencing the nodes, or both — or some other
representation as desired by the implementation.
Note: an empty nodelist is a valid query result.<a href="#section-2.1.2-4" class="pilcrow">¶</a></p>
<p id="section-2.1.2-5">A segment operates on each of the nodes in its input nodelist in turn,
and the resultant nodelists are concatenated in the order of the input
nodelist they were derived from to produce
the result of the segment. A node may be selected more than once and
appears that number of times in the nodelist. Duplicate nodes are not removed.<a href="#section-2.1.2-5" class="pilcrow">¶</a></p>
<p id="section-2.1.2-6">A syntactically valid segment <span class="bcp14">MUST NOT</span> produce errors when executing the query.
This means that some
operations that might be considered erroneous, such as using an index
lying outside the range of an array,
simply result in fewer nodes being selected.
(Additional discussion of this property can be found in the
introduction to <a href="#synsem-overview" class="auto internal xref">Section 2.1</a>.)<a href="#section-2.1.2-6" class="pilcrow">¶</a></p>
<p id="section-2.1.2-7">As a consequence of this approach, if any of the segments produces an empty nodelist,
then the whole query produces an empty nodelist.<a href="#section-2.1.2-7" class="pilcrow">¶</a></p>
<p id="section-2.1.2-8">If a query may produce a nodelist with more than one possible ordering, a particular implementation
may also produce distinct orderings in successive runs of the query.<a href="#section-2.1.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example">
<section id="section-2.1.3">
          <h4 id="name-example">
<a href="#section-2.1.3" class="section-number selfRef">2.1.3. </a><a href="#name-example" class="section-name selfRef">Example</a>
          </h4>
<p id="section-2.1.3-1">Consider this example. With the query argument <code>{"a":[{"b":0},{"b":1},{"c":2}]}</code>, the
query <code>$.a[*].b</code> selects the following list of nodes: <code>0</code>, <code>1</code>
(denoted here by their value).<a href="#section-2.1.3-1" class="pilcrow">¶</a></p>
<p id="section-2.1.3-2">The query consists of <code>$</code> followed by three segments: <code>.a</code>, <code>[*]</code>, and <code>.b</code>.<a href="#section-2.1.3-2" class="pilcrow">¶</a></p>
<p id="section-2.1.3-3">Firstly, <code>$</code> produces a nodelist consisting of just the query argument.<a href="#section-2.1.3-3" class="pilcrow">¶</a></p>
<p id="section-2.1.3-4">Next, <code>.a</code> selects from any object input node and selects the
node of any
member value of the input
node corresponding to the member name <code>"a"</code>.
The result is again a list of one node: <code>[{"b":0},{"b":1},{"c":2}]</code>.<a href="#section-2.1.3-4" class="pilcrow">¶</a></p>
<p id="section-2.1.3-5">Next, <code>[*]</code> selects from any array input node all its elements
(for an object input node, it would select all its member
values, but not the member names).
The result is a list of three nodes: <code>{"b":0}</code>, <code>{"b":1}</code>, and <code>{"c":2}</code>.<a href="#section-2.1.3-5" class="pilcrow">¶</a></p>
<p id="section-2.1.3-6">Finally, <code>.b</code> selects from any object input node with a member name
<code>b</code> and selects the node of the member value of the input node corresponding to that name.
The result is a list containing <code>0</code>, <code>1</code>.
This is the concatenation of three lists, two of length one containing
<code>0</code>, <code>1</code>, respectively, and one of length zero.<a href="#section-2.1.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="root-identifier">
<section id="section-2.2">
        <h3 id="name-root-identifier">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-root-identifier" class="section-name selfRef">Root Identifier</a>
        </h3>
<div id="syntax-1">
<section id="section-2.2.1">
          <h4 id="name-syntax-2">
<a href="#section-2.2.1" class="section-number selfRef">2.2.1. </a><a href="#name-syntax-2" class="section-name selfRef">Syntax</a>
          </h4>
<p id="section-2.2.1-1">Every JSONPath query (except those inside filter expressions, see <a href="#filter-selector" class="auto internal xref">Section 2.3.5</a>) <span class="bcp14">MUST</span> begin with the root identifier <code>$</code>.<a href="#section-2.2.1-1" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.2.1-2">
<pre>
root-identifier     = "$"
</pre><a href="#section-2.2.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="semantics-1">
<section id="section-2.2.2">
          <h4 id="name-semantics-2">
<a href="#section-2.2.2" class="section-number selfRef">2.2.2. </a><a href="#name-semantics-2" class="section-name selfRef">Semantics</a>
          </h4>
<p id="section-2.2.2-1">The root identifier <code>$</code> represents the root node of the query argument
and produces a nodelist consisting of that root node.<a href="#section-2.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples">
<section id="section-2.2.3">
          <h4 id="name-examples">
<a href="#section-2.2.3" class="section-number selfRef">2.2.3. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
          </h4>
<aside id="section-2.2.3-1">
            <p id="section-2.2.3-1.1">In this and the following examples in Sections <a href="#root-identifier" class="auto internal xref">2.2</a> and
<a href="#selector-details" class="auto internal xref">2.3</a> except for <a href="#tbl-comparison" class="auto internal xref">Table 11</a>, we will present a
JSON text to show the JSON value used as the query argument to the
queries in the examples, and then a table with the columns:<a href="#section-2.2.3-1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2.3-1.2.1">Query: an example query to be applied to the query argument<a href="#section-2.2.3-1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.2.3-1.2.2">Result: the query result as a list of JSON values that were located in the query argument<a href="#section-2.2.3-1.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.2.3-1.2.3">Result Path: the query result as a list of (normalized) paths into
the query argument, giving locations of the JSON values in the previous column<a href="#section-2.2.3-1.2.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.2.3-1.2.4">Comment: descriptive information<a href="#section-2.2.3-1.2.4" class="pilcrow">¶</a>
</li>
            </ul>
</aside>
<p id="section-2.2.3-2">JSON:<a href="#section-2.2.3-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.2.3-3">
<pre>
{"k": "v"}
</pre><a href="#section-2.2.3-3" class="pilcrow">¶</a>
</div>
<p id="section-2.2.3-4">Queries:<a href="#section-2.2.3-4" class="pilcrow">¶</a></p>
<span id="name-root-identifier-examples"></span><div id="tbl-root">
<table class="center" id="table-3">
            <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-root-identifier-examples" class="selfRef">Root identifier examples</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" rowspan="1" colspan="1">Query</th>
                <th class="text-left" rowspan="1" colspan="1">Result</th>
                <th class="text-center" rowspan="1" colspan="1">Result Path</th>
                <th class="text-left" rowspan="1" colspan="1">Comment</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>{"k": "v"}</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Root node</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
<div id="selector-details">
<section id="section-2.3">
        <h3 id="name-selectors-2">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-selectors-2" class="section-name selfRef">Selectors</a>
        </h3>
<p id="section-2.3-1">Selectors appear only inside <span><a href="#child-segment" class="internal xref">child segments</a> (<a href="#child-segment" class="auto internal xref">Section 2.5.1</a>)</span> and
<span><a href="#descendant-segment" class="internal xref">descendant segments</a> (<a href="#descendant-segment" class="auto internal xref">Section 2.5.2</a>)</span>.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">A selector produces a nodelist consisting of zero or more children of the input value.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<p id="section-2.3-3">There are various kinds of selectors which produce children of objects, children of arrays,
or children of either objects or arrays.<a href="#section-2.3-3" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3-4">
<pre>
selector            = name-selector  /
                      wildcard-selector /
                      slice-selector /
                      index-selector /
                      filter-selector
</pre><a href="#section-2.3-4" class="pilcrow">¶</a>
</div>
<p id="section-2.3-5">The syntax and semantics of each kind of selector are defined below.<a href="#section-2.3-5" class="pilcrow">¶</a></p>
<div id="name-selector">
<section id="section-2.3.1">
          <h4 id="name-name-selector">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-name-selector" class="section-name selfRef">Name Selector</a>
          </h4>
<div id="syntax-name">
<section id="section-2.3.1.1">
            <h5 id="name-syntax-3">
<a href="#section-2.3.1.1" class="section-number selfRef">2.3.1.1. </a><a href="#name-syntax-3" class="section-name selfRef">Syntax</a>
            </h5>
<p id="section-2.3.1.1-1">A name selector <code>'&lt;name&gt;'</code> selects at most one object member value.<a href="#section-2.3.1.1-1" class="pilcrow">¶</a></p>
<p id="section-2.3.1.1-2">In contrast to JSON,
the JSONPath syntax allows strings to be enclosed in <em>single</em> or <em>double</em> quotes.<a href="#section-2.3.1.1-2" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.1.1-3">
<pre>
name-selector       = string-literal

string-literal      = %x22 *double-quoted %x22 /     ; "string"
                      %x27 *single-quoted %x27       ; 'string'

double-quoted       = unescaped /
                      %x27      /                    ; '
                      ESC %x22  /                    ; \"
                      ESC escapable

single-quoted       = unescaped /
                      %x22      /                    ; "
                      ESC %x27  /                    ; \'
                      ESC escapable

ESC                 = %x5C                           ; \  backslash

unescaped           = %x20-21 /                      ; see RFC 8259
                         ; omit 0x22 "
                      %x23-26 /
                         ; omit 0x27 '
                      %x28-5B /
                         ; omit 0x5C \
                      %x5D-10FFFF

escapable           = %x62 / ; b BS backspace U+0008
                      %x66 / ; f FF form feed U+000C
                      %x6E / ; n LF line feed U+000A
                      %x72 / ; r CR carriage return U+000D
                      %x74 / ; t HT horizontal tab U+0009
                      "/"  / ; / slash (solidus) U+002F
                      "\"  / ; \ backslash (reverse solidus) U+005C
                      (%x75 hexchar) ;  uXXXX      U+XXXX

hexchar             = non-surrogate /
                      (high-surrogate "\" %x75 low-surrogate)
non-surrogate       = ((DIGIT / "A"/"B"/"C" / "E"/"F") 3HEXDIG) /
                       ("D" %x30-37 2HEXDIG )
high-surrogate      = "D" ("8"/"9"/"A"/"B") 2HEXDIG
low-surrogate       = "D" ("C"/"D"/"E"/"F") 2HEXDIG

HEXDIG              = DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
</pre><a href="#section-2.3.1.1-3" class="pilcrow">¶</a>
</div>
<p id="section-2.3.1.1-4">Notes:<a href="#section-2.3.1.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.1.1-5.1">
                <code>double-quoted</code> strings follow the JSON string syntax (<span><a href="https://rfc-editor.org/rfc/rfc8259#section-7" class="relref">Section 7</a> of [<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>);
<code>single-quoted</code> strings follow an analogous pattern (<a href="#syntax-index" class="auto internal xref">Section 2.3.3.1</a>).
No attempt was made to improve on this syntax, so if it is desired to
escape characters with
scalar values above 0xFFFF, such as <span class="unicode">U+1F914 ("🤔", THINKING FACE)</span>,
they need to be represented
by a pair of surrogate escapes (<code>"\uD83E\uDD14"</code> in this case).<a href="#section-2.3.1.1-5.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.3.1.1-5.2">Alphabetic characters in ABNF quoted strings are case-insensitive,
so each of the hexadecimal digits within <code>\u</code> escapes (as specified in rules
referenced by <code>hexchar</code>) can be either lower case or upper case,
while the <code>u</code> in <code>\u</code> needs to be lower case (indicated as <code>%x75</code>).<a href="#section-2.3.1.1-5.2" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="semantics-2">
<section id="section-2.3.1.2">
            <h5 id="name-semantics-3">
<a href="#section-2.3.1.2" class="section-number selfRef">2.3.1.2. </a><a href="#name-semantics-3" class="section-name selfRef">Semantics</a>
            </h5>
<p id="section-2.3.1.2-1">A <code>name-selector</code> string <span class="bcp14">MUST</span> be converted to a
member name <code>M</code> by removing the surrounding quotes and
replacing each escape sequence with its equivalent Unicode character, as
shown in <a href="#tbl-esc" class="auto internal xref">Table 4</a>:<a href="#section-2.3.1.2-1" class="pilcrow">¶</a></p>
<span id="name-escape-sequence-replacement"></span><div id="tbl-esc">
<table class="center" id="table-4">
              <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-escape-sequence-replacement" class="selfRef">Escape Sequence Replacements</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Escape Sequence</th>
                  <th class="text-center" rowspan="1" colspan="1">Unicode Character</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\b</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+0008</td>
                  <td class="text-left" rowspan="1" colspan="1">BS backspace</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\t</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+0009</td>
                  <td class="text-left" rowspan="1" colspan="1">HT horizontal tab</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\n</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+000A</td>
                  <td class="text-left" rowspan="1" colspan="1">LF line feed</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\f</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+000C</td>
                  <td class="text-left" rowspan="1" colspan="1">FF form feed</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\r</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+000D</td>
                  <td class="text-left" rowspan="1" colspan="1">CR carriage return</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+0022</td>
                  <td class="text-left" rowspan="1" colspan="1">quotation mark</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\'</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+0027</td>
                  <td class="text-left" rowspan="1" colspan="1">apostrophe</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\/</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+002F</td>
                  <td class="text-left" rowspan="1" colspan="1">slash (solidus)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\\</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+005C</td>
                  <td class="text-left" rowspan="1" colspan="1">backslash (reverse solidus)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>\uXXXX</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">U+XXXX</td>
                  <td class="text-left" rowspan="1" colspan="1">unicode character</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-2.3.1.2-3">Applying the <code>name-selector</code> to an object node
selects a member value whose name equals the member name <code>M</code>,
or selects nothing if there is no such member value.
Nothing is selected from a value that is not an object.<a href="#section-2.3.1.2-3" class="pilcrow">¶</a></p>
<p id="section-2.3.1.2-4">Note: processing the name selector requires comparing the member name string <code>M</code>
with member name strings in the JSON to which the selector is being applied.
Two strings <span class="bcp14">MUST</span> be considered equal if and only if they are identical
sequences of Unicode scalar values. In other words, normalization operations
<span class="bcp14">MUST NOT</span> be applied to either the member name string <code>M</code> from the JSONPath or to
the member name strings in the JSON prior to comparison.<a href="#section-2.3.1.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples-1">
<section id="section-2.3.1.3">
            <h5 id="name-examples-2">
<a href="#section-2.3.1.3" class="section-number selfRef">2.3.1.3. </a><a href="#name-examples-2" class="section-name selfRef">Examples</a>
            </h5>
<p id="section-2.3.1.3-1">JSON:<a href="#section-2.3.1.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.3.1.3-2">
<pre>
{
  "o": {"j j": {"k.k": 3}},
  "'": {"@": 2}
}
</pre><a href="#section-2.3.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.3.1.3-3">Queries:<a href="#section-2.3.1.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3.1.3-4">The examples in <a href="#tbl-name" class="auto internal xref">Table 5</a> show the name selector in use by child segments:<a href="#section-2.3.1.3-4" class="pilcrow">¶</a></p>
<span id="name-name-selector-examples"></span><div id="tbl-name">
<table class="center" id="table-5">
              <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-name-selector-examples" class="selfRef">Name selector examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Query</th>
                  <th class="text-left" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                  <th class="text-left" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o['j j']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"k.k": 3}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['j j']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Named value in nested object</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o['j j']['k.k']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>3</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['j j']['k.k']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Nesting further down</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o["j j"]["k.k"]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>3</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['j j']['k.k']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Different delimiter in query, unchanged normalized path</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$["'"]["@"]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['\'']['@']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Unusual member names</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
</section>
</div>
<div id="wildcard-selector">
<section id="section-2.3.2">
          <h4 id="name-wildcard-selector">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-wildcard-selector" class="section-name selfRef">Wildcard Selector</a>
          </h4>
<div id="syntax-2">
<section id="section-2.3.2.1">
            <h5 id="name-syntax-4">
<a href="#section-2.3.2.1" class="section-number selfRef">2.3.2.1. </a><a href="#name-syntax-4" class="section-name selfRef">Syntax</a>
            </h5>
<p id="section-2.3.2.1-1">The wildcard selector consists of an asterisk.<a href="#section-2.3.2.1-1" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.2.1-2">
<pre>
wildcard-selector   = "*"
</pre><a href="#section-2.3.2.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="semantics-3">
<section id="section-2.3.2.2">
            <h5 id="name-semantics-4">
<a href="#section-2.3.2.2" class="section-number selfRef">2.3.2.2. </a><a href="#name-semantics-4" class="section-name selfRef">Semantics</a>
            </h5>
<p id="section-2.3.2.2-1">A wildcard selector selects the nodes of all children of an object or array.
The order in which the children of an object appear in the resultant nodelist is not stipulated,
since JSON objects are unordered.
Children of an array appear in array order in the resultant nodelist.<a href="#section-2.3.2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.2.2-2">The wildcard selector selects nothing from a primitive JSON value (that is,
a number, a string, <code>true</code>, <code>false</code>, or <code>null</code>).<a href="#section-2.3.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples-2">
<section id="section-2.3.2.3">
            <h5 id="name-examples-3">
<a href="#section-2.3.2.3" class="section-number selfRef">2.3.2.3. </a><a href="#name-examples-3" class="section-name selfRef">Examples</a>
            </h5>
<p id="section-2.3.2.3-1">JSON:<a href="#section-2.3.2.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.3.2.3-2">
<pre>
{
  "o": {"j": 1, "k": 2},
  "a": [5, 3]
}
</pre><a href="#section-2.3.2.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.3.2.3-3">Queries:<a href="#section-2.3.2.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3.2.3-4">The examples in <a href="#tbl-wild" class="auto internal xref">Table 6</a> show the wildcard selector in use by a child segment:<a href="#section-2.3.2.3-4" class="pilcrow">¶</a></p>
<span id="name-wildcard-selector-examples"></span><div id="tbl-wild">
<table class="center" id="table-6">
              <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-wildcard-selector-examples" class="selfRef">Wildcard selector examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Query</th>
                  <th class="text-left" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                  <th class="text-left" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[*]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"j": 1, "k": 2}</code> <br> <code>[5, 3]</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']</code> <br> <code>$['a']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Object values</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o[*]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>1</code> <br> <code>2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['j']</code> <br> <code>$['o']['k']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Object values</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o[*]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>2</code> <br> <code>1</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['k']</code> <br> <code>$['o']['j']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Alternative result</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o[*, *]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>1</code> <br> <code>2</code> <br> <code>2</code> <br> <code>1</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['j']</code> <br> <code>$['o']['k']</code> <br> <code>$['o']['k']</code> <br> <code>$['o']['j']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-deterministic ordering</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[*]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>5</code> <br> <code>3</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][0]</code> <br> <code>$['a'][1]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Array members</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-2.3.2.3-6">The example above with the query <code>$.o[*, *]</code> shows that the wildcard selector may produce nodelists in distinct
orders each time it appears in the child segment, when it is applied to an object node with two or more
members (but not when it is applied to object nodes with fewer than two members or to array nodes).<a href="#section-2.3.2.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="index-selector">
<section id="section-2.3.3">
          <h4 id="name-index-selector">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-index-selector" class="section-name selfRef">Index Selector</a>
          </h4>
<div id="syntax-index">
<section id="section-2.3.3.1">
            <h5 id="name-syntax-5">
<a href="#section-2.3.3.1" class="section-number selfRef">2.3.3.1. </a><a href="#name-syntax-5" class="section-name selfRef">Syntax</a>
            </h5>
<p id="section-2.3.3.1-1">An index selector <code>&lt;index&gt;</code> matches at most one array element value.<a href="#section-2.3.3.1-1" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.3.1-2">
<pre>
index-selector      = int                        ; decimal integer

int                 = "0" /
                      (["-"] DIGIT1 *DIGIT)      ; - optional
DIGIT1              = %x31-39                    ; 1-9 non-zero digit
</pre><a href="#section-2.3.3.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.3.3.1-3">Applying the numerical <code>index-selector</code> selects the corresponding
element. JSONPath allows it to be negative (see <a href="#index-semantics" class="auto internal xref">Section 2.3.3.2</a>).<a href="#section-2.3.3.1-3" class="pilcrow">¶</a></p>
<p id="section-2.3.3.1-4">To be valid, the index selector value <span class="bcp14">MUST</span> be in the I-JSON
range of exact values, see <a href="#synsem-overview" class="auto internal xref">Section 2.1</a>.<a href="#section-2.3.3.1-4" class="pilcrow">¶</a></p>
<p id="section-2.3.3.1-5">Notes:<a href="#section-2.3.3.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.3.1-6.1">An <code>index-selector</code> is an integer (in base 10, as in JSON numbers).<a href="#section-2.3.3.1-6.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.3.3.1-6.2">As in JSON numbers, the syntax does not allow octal-like integers with leading zeros such as <code>01</code> or <code>-01</code>.<a href="#section-2.3.3.1-6.2" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="index-semantics">
<section id="section-2.3.3.2">
            <h5 id="name-semantics-5">
<a href="#section-2.3.3.2" class="section-number selfRef">2.3.3.2. </a><a href="#name-semantics-5" class="section-name selfRef">Semantics</a>
            </h5>
<p id="section-2.3.3.2-1">A non-negative <code>index-selector</code> applied to an array selects an array element using a zero-based index.
For example, the selector <code>0</code> selects the first and the selector <code>4</code> selects the fifth element of a sufficiently long array.
Nothing is selected, and it is not an error, if the index lies outside the range of the array. Nothing is selected from a value that is not an array.<a href="#section-2.3.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3.2-2">A negative <code>index-selector</code> counts from the array end backwards,
obtaining an equivalent non-negative <code>index-selector</code> by summing the
length of the array with the negative index.
For example, the selector <code>-1</code> selects the last and the selector <code>-2</code> selects the penultimate element of an array with at least two elements.
As with non-negative indexes, it is not an error if such an element does
not exist; this simply means that no element is selected.<a href="#section-2.3.3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples-3">
<section id="section-2.3.3.3">
            <h5 id="name-examples-4">
<a href="#section-2.3.3.3" class="section-number selfRef">2.3.3.3. </a><a href="#name-examples-4" class="section-name selfRef">Examples</a>
            </h5>
<p id="section-2.3.3.3-1">JSON:<a href="#section-2.3.3.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.3.3.3-2">
<pre>
["a","b"]
</pre><a href="#section-2.3.3.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.3.3.3-3">Queries:<a href="#section-2.3.3.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3.3.3-4">The examples in <a href="#tbl-index" class="auto internal xref">Table 7</a> show the index selector in use by a child segment.<a href="#section-2.3.3.3-4" class="pilcrow">¶</a></p>
<span id="name-index-selector-examples"></span><div id="tbl-index">
<table class="center" id="table-7">
              <caption>
<a href="#table-7" class="selfRef">Table 7</a>:
<a href="#name-index-selector-examples" class="selfRef">Index selector examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Query</th>
                  <th class="text-left" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                  <th class="text-left" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[1]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"b"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[1]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Element of array</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[-2]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"a"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[0]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Element of array, from the end</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
</section>
</div>
<div id="slice">
<section id="section-2.3.4">
          <h4 id="name-array-slice-selector">
<a href="#section-2.3.4" class="section-number selfRef">2.3.4. </a><a href="#name-array-slice-selector" class="section-name selfRef">Array Slice selector</a>
          </h4>
<div id="syntax-3">
<section id="section-2.3.4.1">
            <h5 id="name-syntax-6">
<a href="#section-2.3.4.1" class="section-number selfRef">2.3.4.1. </a><a href="#name-syntax-6" class="section-name selfRef">Syntax</a>
            </h5>
<p id="section-2.3.4.1-1">The array slice selector has the form <code>&lt;start&gt;:&lt;end&gt;:&lt;step&gt;</code>.
It matches elements from arrays starting at index <code>&lt;start&gt;</code>, ending at — but
not including — <code>&lt;end&gt;</code>, while incrementing by <code>step</code> with a default of <code>1</code>.<a href="#section-2.3.4.1-1" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.4.1-2">
<pre>
slice-selector      = [start S] ":" S [end S] [":" [S step ]]

start               = int       ; included in selection
end                 = int       ; not included in selection
step                = int       ; default: 1
</pre><a href="#section-2.3.4.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.3.4.1-3">The slice selector consists of three optional decimal integers separated by colons.
The second colon can be omitted when the third integer is.<a href="#section-2.3.4.1-3" class="pilcrow">¶</a></p>
<p id="section-2.3.4.1-4">To be valid, the integers provided <span class="bcp14">MUST</span> be in the I-JSON
range of exact values, see <a href="#synsem-overview" class="auto internal xref">Section 2.1</a>.<a href="#section-2.3.4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics-4">
<section id="section-2.3.4.2">
            <h5 id="name-semantics-6">
<a href="#section-2.3.4.2" class="section-number selfRef">2.3.4.2. </a><a href="#name-semantics-6" class="section-name selfRef">Semantics</a>
            </h5>
<p id="section-2.3.4.2-1">The slice selector was inspired by the slice operator of ECMAScript
4 (ES4), which was deprecated in 2014, and that of Python.<a href="#section-2.3.4.2-1" class="pilcrow">¶</a></p>
<div id="informal-introduction">
<section id="section-2.3.4.2.1">
              <h6 id="name-informal-introduction">
<a href="#section-2.3.4.2.1" class="section-number selfRef">2.3.4.2.1. </a><a href="#name-informal-introduction" class="section-name selfRef">Informal Introduction</a>
              </h6>
<p id="section-2.3.4.2.1-1">This section is informative.<a href="#section-2.3.4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.1-2">Array slicing is inspired by the behavior of the <code>Array.prototype.slice</code> method
of the JavaScript language as defined by the ECMA-262 standard <span>[<a href="#ECMA-262" class="cite xref">ECMA-262</a>]</span>,
with the addition of the <code>step</code> parameter, which is inspired by the Python slice expression.<a href="#section-2.3.4.2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.1-3">The array slice expression <code>start:end:step</code> selects elements at indices starting at <code>start</code>,
incrementing by <code>step</code>, and ending with <code>end</code> (which is itself excluded).
So, for example, the expression <code>1:3</code> (where <code>step</code> defaults to <code>1</code>)
selects elements with indices <code>1</code> and <code>2</code> (in that order) whereas
<code>1:5:2</code> selects elements with indices <code>1</code> and <code>3</code>.<a href="#section-2.3.4.2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.1-4">When <code>step</code> is negative, elements are selected in reverse order. Thus,
for example, <code>5:1:-2</code> selects elements with indices <code>5</code> and <code>3</code>, in
that order and <code>::-1</code> selects all the elements of an array in
reverse order.<a href="#section-2.3.4.2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.1-5">When <code>step</code> is <code>0</code>, no elements are selected.
(This is the one case that differs from the behavior of Python, which
raises an error in this case.)<a href="#section-2.3.4.2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.1-6">The following section specifies the behavior fully, without depending on
JavaScript or Python behavior.<a href="#section-2.3.4.2.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="normative-semantics">
<section id="section-2.3.4.2.2">
              <h6 id="name-normative-semantics">
<a href="#section-2.3.4.2.2" class="section-number selfRef">2.3.4.2.2. </a><a href="#name-normative-semantics" class="section-name selfRef">Normative Semantics</a>
              </h6>
<p id="section-2.3.4.2.2-1">A slice expression selects a subset of the elements of the input array, in
the same order
as the array or the reverse order, depending on the sign of the <code>step</code> parameter.
It selects no nodes from a node that is not an array.<a href="#section-2.3.4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.2-2">A slice is defined by the two slice parameters, <code>start</code> and <code>end</code>, and
an iteration delta, <code>step</code>.
Each of these parameters is
optional. In the rest of this section, <code>len</code> denotes the length of the input array.<a href="#section-2.3.4.2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.2-3">The default value for <code>step</code> is <code>1</code>.
The default values for <code>start</code> and <code>end</code> depend on the sign of <code>step</code>,
as shown in <a href="#tbl-slice-start-end" class="auto internal xref">Table 8</a>:<a href="#section-2.3.4.2.2-3" class="pilcrow">¶</a></p>
<span id="name-default-array-slice-start-a"></span><div id="tbl-slice-start-end">
<table class="center" id="table-8">
                <caption>
<a href="#table-8" class="selfRef">Table 8</a>:
<a href="#name-default-array-slice-start-a" class="selfRef">Default array slice start and end values</a>
                </caption>
<thead>
                  <tr>
                    <th class="text-left" rowspan="1" colspan="1">Condition</th>
                    <th class="text-left" rowspan="1" colspan="1">start</th>
                    <th class="text-left" rowspan="1" colspan="1">end</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="text-left" rowspan="1" colspan="1">step &gt;= 0</td>
                    <td class="text-left" rowspan="1" colspan="1">0</td>
                    <td class="text-left" rowspan="1" colspan="1">len</td>
                  </tr>
                  <tr>
                    <td class="text-left" rowspan="1" colspan="1">step &lt; 0</td>
                    <td class="text-left" rowspan="1" colspan="1">len - 1</td>
                    <td class="text-left" rowspan="1" colspan="1">-len - 1</td>
                  </tr>
                </tbody>
              </table>
</div>
<p id="section-2.3.4.2.2-5">Slice expression parameters <code>start</code> and <code>end</code> are not directly usable
as slice bounds and must first be normalized.
Normalization for this purpose is defined as:<a href="#section-2.3.4.2.2-5" class="pilcrow">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-2.3.4.2.2-6">
<pre>
FUNCTION Normalize(i, len):
  IF i &gt;= 0 THEN
    RETURN i
  ELSE
    RETURN len + i
  END IF
</pre><a href="#section-2.3.4.2.2-6" class="pilcrow">¶</a>
</div>
<p id="section-2.3.4.2.2-7">The result of the array index expression <code>i</code> applied to an array
of length <code>len</code> is the result of the array
slicing expression <code>Normalize(i, len):Normalize(i, len)+1:1</code>.<a href="#section-2.3.4.2.2-7" class="pilcrow">¶</a></p>
<p id="section-2.3.4.2.2-8">Slice expression parameters <code>start</code> and <code>end</code> are used to derive slice bounds <code>lower</code> and <code>upper</code>.
The direction of the iteration, defined
by the sign of <code>step</code>, determines which of the parameters is the lower bound and which
is the upper bound:<a href="#section-2.3.4.2.2-8" class="pilcrow">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-2.3.4.2.2-9">
<pre>
FUNCTION Bounds(start, end, step, len):
  n_start = Normalize(start, len)
  n_end = Normalize(end, len)

  IF step &gt;= 0 THEN
    lower = MIN(MAX(n_start, 0), len)
    upper = MIN(MAX(n_end, 0), len)
  ELSE
    upper = MIN(MAX(n_start, -1), len-1)
    lower = MIN(MAX(n_end, -1), len-1)
  END IF

  RETURN (lower, upper)
</pre><a href="#section-2.3.4.2.2-9" class="pilcrow">¶</a>
</div>
<p id="section-2.3.4.2.2-10">The slice expression selects elements with indices between the lower and
upper bounds.
In the following pseudocode, <code>a(i)</code> is the <code>i+1</code>th element of the array <code>a</code>
(i.e., <code>a(0)</code> is the first element, <code>a(1)</code> the second, and so forth).<a href="#section-2.3.4.2.2-10" class="pilcrow">¶</a></p>
<div class="lang-pseudocode sourcecode" id="section-2.3.4.2.2-11">
<pre>
IF step &gt; 0 THEN

  i = lower
  WHILE i &lt; upper:
    SELECT a(i)
    i = i + step
  END WHILE

ELSE if step &lt; 0 THEN

  i = upper
  WHILE lower &lt; i:
    SELECT a(i)
    i = i + step
  END WHILE

END IF
</pre><a href="#section-2.3.4.2.2-11" class="pilcrow">¶</a>
</div>
<p id="section-2.3.4.2.2-12">When <code>step = 0</code>, no elements are selected and the result array is empty.<a href="#section-2.3.4.2.2-12" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="examples-4">
<section id="section-2.3.4.3">
            <h5 id="name-examples-5">
<a href="#section-2.3.4.3" class="section-number selfRef">2.3.4.3. </a><a href="#name-examples-5" class="section-name selfRef">Examples</a>
            </h5>
<p id="section-2.3.4.3-1">JSON:<a href="#section-2.3.4.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.3.4.3-2">
<pre>
["a", "b", "c", "d", "e", "f", "g"]
</pre><a href="#section-2.3.4.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.3.4.3-3">Queries:<a href="#section-2.3.4.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3.4.3-4">The examples in <a href="#tbl-slice" class="auto internal xref">Table 9</a> show the array slice selector in use by a child segment:<a href="#section-2.3.4.3-4" class="pilcrow">¶</a></p>
<span id="name-array-slice-selector-exampl"></span><div id="tbl-slice">
<table class="center" id="table-9">
              <caption>
<a href="#table-9" class="selfRef">Table 9</a>:
<a href="#name-array-slice-selector-exampl" class="selfRef">Array slice selector examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Query</th>
                  <th class="text-left" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                  <th class="text-left" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[1:3]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"b"</code> <br> <code>"c"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[1]</code> <br> <code>$[2]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Slice with default step</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[5:]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"f"</code> <br> <code>"g"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[5]</code> <br> <code>$[6]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Slice with no end index</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[1:5:2]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"b"</code> <br> <code>"d"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[1]</code> <br> <code>$[3]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Slice with step 2</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[5:1:-2]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"f"</code> <br> <code>"d"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[5]</code> <br> <code>$[3]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Slice with negative step</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[::-1]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"g"</code> <br> <code>"f"</code> <br> <code>"e"</code> <br> <code>"d"</code> <br> <code>"c"</code> <br> <code>"b"</code> <br> <code>"a"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[6]</code> <br> <code>$[5]</code> <br> <code>$[4]</code> <br> <code>$[3]</code> <br> <code>$[2]</code> <br> <code>$[1]</code> <br> <code>$[0]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Slice in reverse order</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
</section>
</div>
<div id="filter-selector">
<section id="section-2.3.5">
          <h4 id="name-filter-selector">
<a href="#section-2.3.5" class="section-number selfRef">2.3.5. </a><a href="#name-filter-selector" class="section-name selfRef">Filter selector</a>
          </h4>
<p id="section-2.3.5-1">Filter selectors are used to iterate over the elements or members of
structured values, i.e., JSON arrays and objects.
The structured values are identified in the nodelist offered by the
child or descendant segment using the filter selector.<a href="#section-2.3.5-1" class="pilcrow">¶</a></p>
<p id="section-2.3.5-2">For each iteration (element/member), a logical expression, the <em>filter expression</em>,
is evaluated which decides whether the node of
the element/member is selected.
(While a logical expression evaluates to what mathematically is a
Boolean value, this specification uses the term <em>logical</em> to maintain a distinction from
the Boolean values that JSON can represent.)<a href="#section-2.3.5-2" class="pilcrow">¶</a></p>
<p id="section-2.3.5-3">During the iteration process, the filter expression receives the node
of each array element or object member value of the structured value being
filtered; this element or member value is then known as the <em>current node</em>.<a href="#section-2.3.5-3" class="pilcrow">¶</a></p>
<p id="section-2.3.5-4">The current node can be used as the start of one or more JSONPath
queries in subexpressions of the filter expression, notated
via the current-node-identifier <code>@</code>.
Each JSONPath query can be used either for testing existence of a
result of the query, for obtaining a specific JSON value resulting
from that query that can then be used in a comparison, or as a
<em>function argument</em>.<a href="#section-2.3.5-4" class="pilcrow">¶</a></p>
<p id="section-2.3.5-5">Filter selectors may use function extensions, which are covered in <a href="#fnex" class="auto internal xref">Section 2.4</a>.
Within the logical expression for a filter selector, function
expressions can be used to operate on nodelists and values.
The set of available functions is extensible, with a number of
functions predefined, see <a href="#fnex" class="auto internal xref">Section 2.4</a>, and the ability to register further
functions provided by the Function Extensions sub-registry (<a href="#iana-fnex" class="auto internal xref">Section 3.2</a>).
When a function is defined, it is given a unique name, and its return value and each of its parameters is given a
<em>declared type</em>.
The type system is limited in scope; its purpose is to express
restrictions that, without functions, are implicit in the grammar of
filter expressions.
The type system also guides conversions (<a href="#type-conv" class="auto internal xref">Section 2.4.2</a>) that mimic the
way different kinds of expressions are handled in the grammar when
function expressions are not in use.<a href="#section-2.3.5-5" class="pilcrow">¶</a></p>
<div id="filter-selector-syntax">
<section id="section-2.3.5.1">
            <h5 id="name-syntax-7">
<a href="#section-2.3.5.1" class="section-number selfRef">2.3.5.1. </a><a href="#name-syntax-7" class="section-name selfRef">Syntax</a>
            </h5>
<p id="section-2.3.5.1-1">The filter selector has the form <code>?&lt;logical-expr&gt;</code>.<a href="#section-2.3.5.1-1" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.5.1-2">
<pre>
filter-selector     = "?" S logical-expr
</pre><a href="#section-2.3.5.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.3.5.1-3">As the filter expression is composed of side-effect free constituents,
the order of evaluation does not need to be (and is not) defined.
Similarly, for conjunction (<code>&amp;&amp;</code>) and disjunction (<code>||</code>) (defined later),
both a short-circuiting and a fully evaluating
implementation will lead to the same result; both implementation
strategies are therefore valid.<a href="#section-2.3.5.1-3" class="pilcrow">¶</a></p>
<p id="section-2.3.5.1-4">The current node is accessible via the current node identifier <code>@</code>.
This identifier addresses the current node of the filter-selector that
is directly enclosing the identifier. Note: within nested
filter-selectors, there is no syntax to address the current node of
any other than the directly enclosing filter-selector (i.e., of
filter-selectors enclosing the filter-selector that is directly
enclosing the identifier).<a href="#section-2.3.5.1-4" class="pilcrow">¶</a></p>
<p id="section-2.3.5.1-5">Logical expressions offer the usual Boolean operators (<code>||</code> for OR,
<code>&amp;&amp;</code> for AND, and <code>!</code> for NOT).
They have the normal semantics of Boolean algebra and obey its laws
(see, for example, <span>[<a href="#BOOLEAN-LAWS" class="cite xref">BOOLEAN-LAWS</a>]</span>).
Parentheses <span class="bcp14">MAY</span> be used within <code>logical-expr</code> for grouping.<a href="#section-2.3.5.1-5" class="pilcrow">¶</a></p>
<p id="section-2.3.5.1-6">It is not required that <code>logical-expr</code> consist of
a parenthesized expression (which was required in <span>[<a href="#JSONPath-orig" class="cite xref">JSONPath-orig</a>]</span>),
although it can be, and the semantics are the same
as without the parentheses.<a href="#section-2.3.5.1-6" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.5.1-7">
<pre>
logical-expr        = logical-or-expr
logical-or-expr     = logical-and-expr *(S "||" S logical-and-expr)
                        ; disjunction
                        ; binds less tightly than conjunction
logical-and-expr    = basic-expr *(S "&amp;&amp;" S basic-expr)
                        ; conjunction
                        ; binds more tightly than disjunction

basic-expr          = paren-expr /
                      comparison-expr /
                      test-expr

paren-expr          = [logical-not-op S] "(" S logical-expr S ")"
                                        ; parenthesized expression
logical-not-op      = "!"               ; logical NOT operator
</pre><a href="#section-2.3.5.1-7" class="pilcrow">¶</a>
</div>
<p id="section-2.3.5.1-8">A test expression
either tests the existence of a node
designated by an embedded query (see <a href="#extest" class="auto internal xref">Section 2.3.5.2.1</a>) or tests the
result of a function expression (see <a href="#fnex" class="auto internal xref">Section 2.4</a>).
In the latter case, if the function's declared result type is
<code>LogicalType</code> (see <a href="#typesys" class="auto internal xref">Section 2.4.1</a>), it tests whether the result
is <code>LogicalTrue</code>; if the function's declared result type is
<code>NodesType</code>, it tests whether the result is non-empty.
If the function's declared result type is <code>ValueType</code>, its use in a
test expression is not well-typed (see <a href="#well-typedness" class="auto internal xref">Section 2.4.3</a>).<a href="#section-2.3.5.1-8" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.5.1-9">
<pre>
test-expr           = [logical-not-op S]
                     (filter-query / ; existence/non-existence
                      function-expr) ; LogicalType or
                                     ; NodesType
filter-query        = rel-query / jsonpath-query
rel-query           = current-node-identifier segments
current-node-identifier = "@"
</pre><a href="#section-2.3.5.1-9" class="pilcrow">¶</a>
</div>
<p id="section-2.3.5.1-10">Comparison expressions are available for comparisons between primitive
values (that is, numbers, strings, <code>true</code>, <code>false</code>, and <code>null</code>).
These can be obtained via literal values; singular queries, each of
which selects at most one node the value of which is then used; or
function expressions (see <a href="#fnex" class="auto internal xref">Section 2.4</a>) of type <code>ValueType</code>.<a href="#section-2.3.5.1-10" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.5.1-11">
<pre>
comparison-expr     = comparable S comparison-op S comparable
literal             = number / string-literal /
                      true / false / null
comparable          = literal /
                      singular-query / ; singular query value
                      function-expr    ; ValueType
comparison-op       = "==" / "!=" /
                      "&lt;=" / "&gt;=" /
                      "&lt;"  / "&gt;"

singular-query      = rel-singular-query / abs-singular-query
rel-singular-query  = current-node-identifier singular-query-segments
abs-singular-query  = root-identifier singular-query-segments
singular-query-segments = *(S (name-segment / index-segment))
name-segment        = ("[" name-selector "]") /
                      ("." member-name-shorthand)
index-segment       = "[" index-selector "]"
</pre><a href="#section-2.3.5.1-11" class="pilcrow">¶</a>
</div>
<p id="section-2.3.5.1-12">Literals can be notated in the way that is usual for JSON (with the
extension that strings can use single-quote delimiters).<a href="#section-2.3.5.1-12" class="pilcrow">¶</a></p>
<p id="section-2.3.5.1-13">Note: Alphabetic characters in ABNF quoted strings are case-insensitive, so within a
floating point number the ABNF expression "e" can be either the character
'e' or 'E'.<a href="#section-2.3.5.1-13" class="pilcrow">¶</a></p>
<p id="section-2.3.5.1-14"><code>true</code>, <code>false</code>, and <code>null</code> are lower-case only (case-sensitive).<a href="#section-2.3.5.1-14" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.3.5.1-15">
<pre>
number              = (int / "-0") [ frac ] [ exp ] ; decimal number
frac                = "." 1*DIGIT                  ; decimal fraction
exp                 = "e" [ "-" / "+" ] 1*DIGIT    ; decimal exponent
true                = %x74.72.75.65                ; true
false               = %x66.61.6c.73.65             ; false
null                = %x6e.75.6c.6c                ; null
</pre><a href="#section-2.3.5.1-15" class="pilcrow">¶</a>
</div>
<p id="section-2.3.5.1-16"><a href="#tbl-prec" class="auto internal xref">Table 10</a> lists filter expression operators in order of precedence from highest (binds most tightly) to lowest (binds least tightly).<a href="#section-2.3.5.1-16" class="pilcrow">¶</a></p>
<span id="name-filter-expression-operator-"></span><div id="tbl-prec">
<table class="center" id="table-10">
              <caption>
<a href="#table-10" class="selfRef">Table 10</a>:
<a href="#name-filter-expression-operator-" class="selfRef">Filter expression operator precedence</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Precedence</th>
                  <th class="text-center" rowspan="1" colspan="1">Operator type</th>
                  <th class="text-center" rowspan="1" colspan="1">Syntax</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">5</td>
                  <td class="text-center" rowspan="1" colspan="1">Grouping <br> Function Expressions</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>(...)</code> <br> <em>name</em><code>(...)</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">4</td>
                  <td class="text-center" rowspan="1" colspan="1">Logical NOT</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>!</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">3</td>
                  <td class="text-center" rowspan="1" colspan="1">Relations</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>==</code> <code>!=</code><br><code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">2</td>
                  <td class="text-center" rowspan="1" colspan="1">Logical AND</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>&amp;&amp;</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">1</td>
                  <td class="text-center" rowspan="1" colspan="1">Logical OR</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>||</code>
</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
<div id="semantics-5">
<section id="section-2.3.5.2">
            <h5 id="name-semantics-7">
<a href="#section-2.3.5.2" class="section-number selfRef">2.3.5.2. </a><a href="#name-semantics-7" class="section-name selfRef">Semantics</a>
            </h5>
<p id="section-2.3.5.2-1">The filter selector works with arrays and objects exclusively. Its result is a list of <em>zero</em>, <em>one</em>, <em>multiple</em> or <em>all</em> of their array elements or member values, respectively.
Applied to a primitive value, it selects nothing (and therefore does
not contribute to the result of the filter selector).<a href="#section-2.3.5.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.5.2-2">In the resultant nodelist, children of an array are ordered by their position in the array.
The order in which the children of an object (as opposed to an array)
appear in the resultant nodelist is not stipulated,
since JSON objects are unordered.<a href="#section-2.3.5.2-2" class="pilcrow">¶</a></p>
<div id="extest">
<section id="section-2.3.5.2.1">
              <h6 id="name-existence-tests">
<a href="#section-2.3.5.2.1" class="section-number selfRef">2.3.5.2.1. </a><a href="#name-existence-tests" class="section-name selfRef">Existence Tests</a>
              </h6>
<p id="section-2.3.5.2.1-1">A query by itself in a logical context is an existence test which yields true if the query selects at least one node and yields false if the query does not select any nodes.<a href="#section-2.3.5.2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.3.5.2.1-2">Existence tests differ from comparisons in that:<a href="#section-2.3.5.2.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.5.2.1-3.1">they work with arbitrary relative or absolute queries (not just singular queries).<a href="#section-2.3.5.2.1-3.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.3.5.2.1-3.2">they work with queries that select structured values.<a href="#section-2.3.5.2.1-3.2" class="pilcrow">¶</a>
</li>
              </ul>
<p id="section-2.3.5.2.1-4">To examine the value of a node selected by a query, an explicit comparison is necessary.
For example, to test whether the node selected by the query <code>@.foo</code> has the value <code>null</code>, use <code>@.foo == null</code> (see <a href="#null-semantics" class="auto internal xref">Section 2.6</a>)
rather than the negated existence test <code>!@.foo</code> (which yields false if <code>@.foo</code> selects a node, regardless of the node's value).<a href="#section-2.3.5.2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="comparisons">
<section id="section-2.3.5.2.2">
              <h6 id="name-comparisons">
<a href="#section-2.3.5.2.2" class="section-number selfRef">2.3.5.2.2. </a><a href="#name-comparisons" class="section-name selfRef">Comparisons</a>
              </h6>
<p id="section-2.3.5.2.2-1">The comparison operators <code>==</code> and <code>&lt;</code> are defined first and then these are used to define <code>!=</code>, <code>&lt;=</code>, <code>&gt;</code>, and <code>&gt;=</code>.<a href="#section-2.3.5.2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.5.2.2-2">When either side of a comparison results in an empty nodelist or the
special result <code>Nothing</code> (see <a href="#typesys" class="auto internal xref">Section 2.4.1</a>):<a href="#section-2.3.5.2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.5.2.2-3.1">a comparison using the operator <code>==</code> yields true if and only the
other side also results in an empty nodelist or the special result <code>Nothing</code>.<a href="#section-2.3.5.2.2-3.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.3.5.2.2-3.2">a comparison using the operator <code>&lt;</code> yields false.<a href="#section-2.3.5.2.2-3.2" class="pilcrow">¶</a>
</li>
              </ul>
<p id="section-2.3.5.2.2-4">When any query or function expression on either side of a comparison results in a nodelist consisting of a single node, that side is
replaced by the value of its node and then:<a href="#section-2.3.5.2.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.5.2.2-5.1">
                  <p id="section-2.3.5.2.2-5.1.1">a comparison using the operator <code>==</code> yields true if and only if the comparison
is between:<a href="#section-2.3.5.2.2-5.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.5.2.2-5.1.2.1">numbers expected to interoperate as per <span><a href="https://rfc-editor.org/rfc/rfc7493#section-2.2" class="relref">Section 2.2</a> of I-JSON [<a href="#RFC7493" class="cite xref">RFC7493</a>]</span> that compare equal using normal mathematical equality,<a href="#section-2.3.5.2.2-5.1.2.1" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="section-2.3.5.2.2-5.1.2.2">numbers at least one of which is not expected to interoperate as per I-JSON, where the numbers compare equal using an implementation specific equality,<a href="#section-2.3.5.2.2-5.1.2.2" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="section-2.3.5.2.2-5.1.2.3">equal primitive values which are not numbers,<a href="#section-2.3.5.2.2-5.1.2.3" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="section-2.3.5.2.2-5.1.2.4">equal arrays, that is arrays of the same length where each element of the first array is equal to the corresponding
element of the second array, or<a href="#section-2.3.5.2.2-5.1.2.4" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="section-2.3.5.2.2-5.1.2.5">
                      <p id="section-2.3.5.2.2-5.1.2.5.1">equal objects with no duplicate names, that is where:<a href="#section-2.3.5.2.2-5.1.2.5.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.5.2.2-5.1.2.5.2.1">both objects have the same collection of names (with no duplicates), and<a href="#section-2.3.5.2.2-5.1.2.5.2.1" class="pilcrow">¶</a>
</li>
                        <li class="normal" id="section-2.3.5.2.2-5.1.2.5.2.2">for each of those names, the values associated with the name by the objects are equal.<a href="#section-2.3.5.2.2-5.1.2.5.2.2" class="pilcrow">¶</a>
</li>
                      </ul>
</li>
                  </ul>
</li>
                <li class="normal" id="section-2.3.5.2.2-5.2">
                  <p id="section-2.3.5.2.2-5.2.1">a comparison using the operator <code>&lt;</code> yields true if and only if
the comparison is between values which are both numbers or both strings and which satisfy the comparison:<a href="#section-2.3.5.2.2-5.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.5.2.2-5.2.2.1">numbers expected to interoperate as per <span><a href="https://rfc-editor.org/rfc/rfc7493#section-2.2" class="relref">Section 2.2</a> of I-JSON [<a href="#RFC7493" class="cite xref">RFC7493</a>]</span> <span class="bcp14">MUST</span> compare using the normal mathematical ordering;
numbers not expected to interoperate as per I-JSON <span class="bcp14">MAY</span> compare using an implementation specific ordering<a href="#section-2.3.5.2.2-5.2.2.1" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="section-2.3.5.2.2-5.2.2.2">the empty string compares less than any non-empty string<a href="#section-2.3.5.2.2-5.2.2.2" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="section-2.3.5.2.2-5.2.2.3">a non-empty string compares less than another non-empty string if and only if the first string starts with a
lower Unicode scalar value than the second string or if both strings start with the same Unicode scalar value and
the remainder of the first string compares less than the remainder of the second string.<a href="#section-2.3.5.2.2-5.2.2.3" class="pilcrow">¶</a>
</li>
                  </ul>
</li>
              </ul>
<p id="section-2.3.5.2.2-6"><code>!=</code>, <code>&lt;=</code>, <code>&gt;</code>, and <code>&gt;=</code> are defined in terms of the other comparison operators. For any <code>a</code> and <code>b</code>:<a href="#section-2.3.5.2.2-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.5.2.2-7.1">The comparison <code>a != b</code> yields true if and only if <code>a == b</code> yields false.<a href="#section-2.3.5.2.2-7.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.3.5.2.2-7.2">The comparison <code>a &lt;= b</code> yields true if and only if <code>a &lt; b</code> yields true or <code>a == b</code> yields true.<a href="#section-2.3.5.2.2-7.2" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.3.5.2.2-7.3">The comparison <code>a &gt; b</code> yields true if and only if <code>b &lt; a</code> yields true.<a href="#section-2.3.5.2.2-7.3" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.3.5.2.2-7.4">The comparison <code>a &gt;= b</code> yields true if and only if <code>b &lt; a</code> yields true or <code>a == b</code> yields true.<a href="#section-2.3.5.2.2-7.4" class="pilcrow">¶</a>
</li>
              </ul>
</section>
</div>
</section>
</div>
<div id="examples-5">
<section id="section-2.3.5.3">
            <h5 id="name-examples-6">
<a href="#section-2.3.5.3" class="section-number selfRef">2.3.5.3. </a><a href="#name-examples-6" class="section-name selfRef">Examples</a>
            </h5>
<p id="section-2.3.5.3-1">The first set of examples shows some comparison expressions and their
result with a given JSON value as input.<a href="#section-2.3.5.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3.5.3-2">JSON:<a href="#section-2.3.5.3-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.3.5.3-3">
<pre>
{
  "obj": {"x": "y"},
  "arr": [2, 3]
}
</pre><a href="#section-2.3.5.3-3" class="pilcrow">¶</a>
</div>
<p id="section-2.3.5.3-4">Comparisons:<a href="#section-2.3.5.3-4" class="pilcrow">¶</a></p>
<span id="name-comparison-examples"></span><div id="tbl-comparison">
<table class="center" id="table-11">
              <caption>
<a href="#table-11" class="selfRef">Table 11</a>:
<a href="#name-comparison-examples" class="selfRef">Comparison examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Comparison</th>
                  <th class="text-center" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.absent1 == $.absent2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">Empty nodelists</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.absent1 &lt;= $.absent2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>==</code> implies <code>&lt;=</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.absent == 'g'</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Empty nodelist</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.absent1 != $.absent2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Empty nodelists</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.absent != 'g'</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">Empty nodelist</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>1 &lt;= 2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">Numeric comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>1 &gt; 2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Strict, numeric comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>13 == '13'</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Type mismatch</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>'a' &lt;= 'b'</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">String comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>'a' &gt; 'b'</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Strict, string comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj == $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Type mismatch</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj != $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">Type mismatch</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj == $.obj</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">Object comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj != $.obj</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Object comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.arr == $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">Array comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.arr != $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Array comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj == 17</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Type mismatch</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj != 17</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">Type mismatch</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj &lt;= $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Objects and arrays do not offer <code>&lt;</code> comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj &lt; $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Objects and arrays do not offer <code>&lt;</code> comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.obj &lt;= $.obj</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>==</code> implies <code>&lt;=</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.arr &lt;= $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>==</code> implies <code>&lt;=</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>1 &lt;= $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Arrays do not offer <code>&lt;</code> comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>1 &gt;= $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Arrays do not offer <code>&lt;</code> comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>1 &gt; $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Arrays do not offer <code>&lt;</code> comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>1 &lt; $.arr</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Arrays do not offer <code>&lt;</code> comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>true &lt;= true</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">true</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>==</code> implies <code>&lt;=</code>
</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>true &gt; true</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">false</td>
                  <td class="text-center" rowspan="1" colspan="1">Booleans do not offer <code>&lt;</code> comparison</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-2.3.5.3-6">The second set of examples shows some complete JSONPath queries that make use
of filter selectors, and the results of evaluating these queries on a
given JSON value as input.
(Note: two of the queries employ function extensions; please see
Sections <a href="#match" class="auto internal xref">2.4.6</a> and <a href="#search" class="auto internal xref">2.4.7</a> below for details about these.)<a href="#section-2.3.5.3-6" class="pilcrow">¶</a></p>
<p id="section-2.3.5.3-7">JSON:<a href="#section-2.3.5.3-7" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.3.5.3-8">
<pre>
{
  "a": [3, 5, 1, 2, 4, 6,
        {"b": "j"},
        {"b": "k"},
        {"b": {}},
        {"b": "kilo"}
       ],
  "o": {"p": 1, "q": 2, "r": 3, "s": 5, "t": {"u": 6}},
  "e": "f"
}
</pre><a href="#section-2.3.5.3-8" class="pilcrow">¶</a>
</div>
<p id="section-2.3.5.3-9">Queries:<a href="#section-2.3.5.3-9" class="pilcrow">¶</a></p>
<p id="section-2.3.5.3-10">The examples in <a href="#tbl-filter" class="auto internal xref">Table 12</a> show the filter selector in use by a child segment:<a href="#section-2.3.5.3-10" class="pilcrow">¶</a></p>
<span id="name-filter-selector-examples"></span><div id="tbl-filter">
<table class="center" id="table-12">
              <caption>
<a href="#table-12" class="selfRef">Table 12</a>:
<a href="#name-filter-selector-examples" class="selfRef">Filter selector examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Query</th>
                  <th class="text-left" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                  <th class="text-left" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?@.b == 'kilo']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"b": "kilo"}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][9]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Member value comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?(@.b == 'kilo')]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"b": "kilo"}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][9]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Equivalent query with enclosing parentheses</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?@&gt;3.5]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>5</code> <br> <code>4</code> <br> <code>6</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][1]</code> <br> <code>$['a'][4]</code> <br> <code>$['a'][5]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Array value comparison</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?@.b]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"b": "j"}</code> <br> <code>{"b": "k"}</code> <br> <code>{"b": {}}</code> <br> <code>{"b": "kilo"}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][6]</code> <br> <code>$['a'][7]</code> <br> <code>$['a'][8]</code> <br> <code>$['a'][9]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Array value existence</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[?@.*]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>[3, 5, 1, 2, 4, 6, {"b": "j"}, {"b": "k"}, {"b": {}}, {"b": "kilo"}]</code> <br> <code>{"p": 1, "q": 2, "r": 3, "s": 5, "t": {"u": 6}}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a']</code> <br> <code>$['o']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Existence of non-singular queries</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[?@[?@.b]]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>[3, 5, 1, 2, 4, 6, {"b": "j"}, {"b": "k"}, {"b": {}}, {"b": "kilo"}]</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Nested filters</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o[?@&lt;3, ?@&lt;3]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>1</code> <br> <code>2</code> <br> <code>2</code> <br> <code>1</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['p']</code> <br> <code>$['o']['q']</code> <br> <code>$['o']['q']</code> <br> <code>$['o']['p']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-deterministic ordering</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?@&lt;2 || @.b == "k"]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>1</code> <br> <code>{"b": "k"}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][2]</code> <br> <code>$['a'][7]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Array value logical OR</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?match(@.b, "[jk]")]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"b": "j"}</code> <br> <code>{"b": "k"}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][6]</code> <br> <code>$['a'][7]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Array value regular expression match</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?search(@.b, "[jk]")]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"b": "j"}</code> <br> <code>{"b": "k"}</code> <br> <code>{"b": "kilo"}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][6]</code> <br> <code>$['a'][7]</code> <br> <code>$['a'][9]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Array value regular expression search</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o[?@&gt;1 &amp;&amp; @&lt;4]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>2</code> <br> <code>3</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['q']</code> <br> <code>$['o']['r']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Object value logical AND</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o[?@&gt;1 &amp;&amp; @&lt;4]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>3</code> <br> <code>2</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['r']</code> <br> <code>$['o']['q']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Alternative result</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o[?@.u || @.x]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"u": 6}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['t']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Object value logical OR</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?@.b == $.x]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>3</code> <br> <code>5</code> <br> <code>1</code> <br> <code>2</code> <br> <code>4</code> <br> <code>6</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][0]</code> <br><code>$['a'][1]</code> <br> <code>$['a'][2]</code> <br> <code>$['a'][3]</code> <br> <code>$['a'][4]</code> <br> <code>$['a'][5]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Comparison of queries with no values</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a[?@ == @]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>3</code> <br> <code>5</code> <br> <code>1</code> <br> <code>2</code> <br> <code>4</code> <br> <code>6</code> <br> <code>{"b": "j"}</code> <br> <code>{"b": "k"}</code> <br> <code>{"b": {}}</code> <br> <code>{"b": "kilo"}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][0]</code> <br> <code>$['a'][1]</code> <br><code>$['a'][2]</code> <br><code>$['a'][3]</code> <br><code>$['a'][4]</code> <br><code>$['a'][5]</code> <br><code>$['a'][6]</code> <br><code>$['a'][7]</code> <br><code>$['a'][8]</code> <br><code>$['a'][9]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Comparisons of primitive and of structured values</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-2.3.5.3-12">The example above with the query <code>$.o[?@&lt;3, ?@&lt;3]</code> shows that a filter selector may produce nodelists in distinct
orders each time it appears in the child segment.<a href="#section-2.3.5.3-12" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="fnex">
<section id="section-2.4">
        <h3 id="name-function-extensions">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-function-extensions" class="section-name selfRef">Function Extensions</a>
        </h3>
<p id="section-2.4-1">Beyond the filter expression functionality defined in the preceding
subsections, JSONPath defines an extension point that can be used to
add filter expression functionality: "Function Extensions".<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">This section defines the extension point as well as some function
extensions that use this extension point.
While these mechanisms are designed to use the extension point,
they are an integral part of the JSONPath specification and are
expected to be implemented like any other integral part of this
specification.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4-3">A function extension defines a registered name (see <a href="#iana-fnex" class="auto internal xref">Section 3.2</a>) that
can be applied to a sequence of zero or more arguments, producing a
result. Each registered function name is unique.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">A function extension <span class="bcp14">MUST</span> be defined such that its evaluation is
side-effect free, i.e., all possible orders of evaluation and choices
of short-circuiting or full evaluation of an expression containing it
<span class="bcp14">MUST</span> lead to the same result.
(Note: memoization or logging are not side effects in this sense
as they are visible at the implementation level only — they do not
influence the result of the evaluation.)<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.4-5">
<pre>
function-name       = function-name-first *function-name-char
function-name-first = LCALPHA
function-name-char  = function-name-first / "_" / DIGIT
LCALPHA             = %x61-7A  ; "a".."z"

function-expr       = function-name "(" S [function-argument
                         *(S "," S function-argument)] S ")"
function-argument   = literal /
                      filter-query / ; (includes singular-query)
                      logical-expr /
                      function-expr
</pre><a href="#section-2.4-5" class="pilcrow">¶</a>
</div>
<p id="section-2.4-6">Any function expressions in a query must be well-formed (by conforming to the above ABNF)
and well-typed,
otherwise the JSONPath implementation <span class="bcp14">MUST</span> raise an error
(see <a href="#synsem-overview" class="auto internal xref">Section 2.1</a>).
To define which function expressions are well-typed,
a type system is first introduced.<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<div id="typesys">
<section id="section-2.4.1">
          <h4 id="name-type-system-for-function-ex">
<a href="#section-2.4.1" class="section-number selfRef">2.4.1. </a><a href="#name-type-system-for-function-ex" class="section-name selfRef">Type System for Function Expressions</a>
          </h4>
<p id="section-2.4.1-1">Each parameter as well as the result of a function extension must have a declared type.<a href="#section-2.4.1-1" class="pilcrow">¶</a></p>
<p id="section-2.4.1-2">Declared types enable checking a JSONPath query for well-typedness
independent of any query argument the JSONPath query is applied to.<a href="#section-2.4.1-2" class="pilcrow">¶</a></p>
<p id="section-2.4.1-3"><a href="#tbl-types" class="auto internal xref">Table 13</a> defines the available types in terms of the instances they contain.<a href="#section-2.4.1-3" class="pilcrow">¶</a></p>
<span id="name-function-extension-type-sys"></span><div id="tbl-types">
<table class="center" id="table-13">
            <caption>
<a href="#table-13" class="selfRef">Table 13</a>:
<a href="#name-function-extension-type-sys" class="selfRef">Function extension type system</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Type</th>
                <th class="text-left" rowspan="1" colspan="1">Instances</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>ValueType</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">JSON values or <code>Nothing</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>LogicalType</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>LogicalTrue</code> or <code>LogicalFalse</code>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>NodesType</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Nodelists</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-2.4.1-5">Notes:<a href="#section-2.4.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.1-6.1">The only instances that can be directly represented in JSONPath syntax are certain JSON values
in <code>ValueType</code> expressed as literals (which, in JSONPath, are limited to primitive values).<a href="#section-2.4.1-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.1-6.2">The special result <code>Nothing</code> represents the absence of a JSON value and is distinct from any JSON value, including <code>null</code>.<a href="#section-2.4.1-6.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.1-6.3">
              <code>LogicalTrue</code> and <code>LogicalFalse</code> are unrelated to the JSON values expressed by the
literals <code>true</code> and <code>false</code>.<a href="#section-2.4.1-6.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="type-conv">
<section id="section-2.4.2">
          <h4 id="name-type-conversion">
<a href="#section-2.4.2" class="section-number selfRef">2.4.2. </a><a href="#name-type-conversion" class="section-name selfRef">Type Conversion</a>
          </h4>
<p id="section-2.4.2-1">Just as queries can be used in logical expressions by testing for the
existence of at least one node (<a href="#extest" class="auto internal xref">Section 2.3.5.2.1</a>), a function expression of
declared type <code>NodesType</code> can be used as a function argument for a
parameter of declared type <code>LogicalType</code>, with the equivalent conversion rule:<a href="#section-2.4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.2-2.1">If the nodelist contains one or more nodes, the conversion result is <code>LogicalTrue</code>.<a href="#section-2.4.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.2-2.2">If the nodelist is empty, the conversion result is <code>LogicalFalse</code>.<a href="#section-2.4.2-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.4.2-3">Notes:<a href="#section-2.4.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.2-4.1">Extraction of a value from a nodelist can be performed in several
ways, so an implicit conversion from <code>NodesType</code> to <code>ValueType</code>
may be surprising and has therefore not been defined.<a href="#section-2.4.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.2-4.2">A function expression with a declared type of <code>NodesType</code> can
indirectly be used as an argument for a parameter of declared type
<code>ValueType</code> by wrapping the expression in a call to a function extension,
such as <code>value()</code> (see <a href="#value" class="auto internal xref">Section 2.4.8</a>),
that takes a parameter of type <code>NodesType</code> and returns a
result of type <code>ValueType</code>.<a href="#section-2.4.2-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.4.2-5">The well-typedness of function expressions can now be defined in terms of this type system.<a href="#section-2.4.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="well-typedness">
<section id="section-2.4.3">
          <h4 id="name-well-typedness-of-function-">
<a href="#section-2.4.3" class="section-number selfRef">2.4.3. </a><a href="#name-well-typedness-of-function-" class="section-name selfRef">Well-Typedness of Function Expressions</a>
          </h4>
<p id="section-2.4.3-1">For a function expression to be well-typed:<a href="#section-2.4.3-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-2.4.3-2">
<li id="section-2.4.3-2.1">its declared type must be well-typed in the context in which it occurs, and<a href="#section-2.4.3-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-2.4.3-2.2">its arguments must be well-typed for the declared type of the corresponding parameters.<a href="#section-2.4.3-2.2" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-2.4.3-3">(1) As per the grammar, a function expression can occur in three different
immediate contexts, which lead to the following conditions for well-typedness:<a href="#section-2.4.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.4.3-4">
            <dt id="section-2.4.3-4.1">As a <code>test-expr</code> in a logical expression:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-4.2">
              <p id="section-2.4.3-4.2.1">The function's declared result type is <code>LogicalType</code>, or
(giving rise to conversion as per <a href="#type-conv" class="auto internal xref">Section 2.4.2</a>) <code>NodesType</code>.<a href="#section-2.4.3-4.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.3-4.3">As a <code>comparable</code> in a comparison:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-4.4">
              <p id="section-2.4.3-4.4.1">The function's declared result type is <code>ValueType</code>.<a href="#section-2.4.3-4.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.3-4.5">As a <code>function-argument</code> in another function expression:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.3-4.6">
              <p id="section-2.4.3-4.6.1">The function's declared result type fulfills the following rules for
the corresponding parameter of the enclosing function.<a href="#section-2.4.3-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.3-5">(2) The arguments of the function expression are well-typed when
each argument of the function can be used for the declared type of the
corresponding parameter, according to one of the following
conditions:<a href="#section-2.4.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.3-6.1">When the argument is a function expression with declared result type the same as the
declared type of the parameter.<a href="#section-2.4.3-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.3-6.2">
              <p id="section-2.4.3-6.2.1">When the declared type of the parameter is <code>LogicalType</code> and the argument is one of the following:<a href="#section-2.4.3-6.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.3-6.2.2.1">A function expression with declared result type <code>NodesType</code>.
In this case the argument is converted to LogicalType as per <a href="#type-conv" class="auto internal xref">Section 2.4.2</a>.<a href="#section-2.4.3-6.2.2.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.3-6.2.2.2">A <code>logical-expr</code> that is not a function expression.<a href="#section-2.4.3-6.2.2.2" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-2.4.3-6.3">When the declared type of the parameter is <code>NodesType</code> and the argument is a query
(which includes singular query).<a href="#section-2.4.3-6.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.3-6.4">
              <p id="section-2.4.3-6.4.1">When the declared type of the parameter is <code>ValueType</code> and the argument is one of the following:<a href="#section-2.4.3-6.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.3-6.4.2.1">A value expressed as a literal.<a href="#section-2.4.3-6.4.2.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-2.4.3-6.4.2.2">
                  <p id="section-2.4.3-6.4.2.2.1">A singular query. In this case:<a href="#section-2.4.3-6.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.3-6.4.2.2.2.1">If the query results in a nodelist consisting of a single node, the
argument is the value of the node.<a href="#section-2.4.3-6.4.2.2.2.1" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="section-2.4.3-6.4.2.2.2.2">If the query results in an empty nodelist, the argument is
the special result <code>Nothing</code>.<a href="#section-2.4.3-6.4.2.2.2.2" class="pilcrow">¶</a>
</li>
                  </ul>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="length">
<section id="section-2.4.4">
          <h4 id="name-length-function-extension">
<a href="#section-2.4.4" class="section-number selfRef">2.4.4. </a><a href="#name-length-function-extension" class="section-name selfRef"><code>length()</code> Function Extension</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-2.4.4-1">
            <dt id="section-2.4.4-1.1">Parameters:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.4-1.2">
              <ol start="1" type="1" class="normal type-1" id="section-2.4.4-1.2.1">
<li id="section-2.4.4-1.2.1.1">
                  <code>ValueType</code><a href="#section-2.4.4-1.2.1.1" class="pilcrow">¶</a>
</li>
              </ol>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.4-1.3">Result:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.4-1.4">
              <p id="section-2.4.4-1.4.1"><code>ValueType</code> (unsigned integer or <code>Nothing</code>)<a href="#section-2.4.4-1.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.4-2">The <code>length()</code> function extension provides a way to compute the length
of a value and make that available for further processing in the
filter expression:<a href="#section-2.4.4-2" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-2.4.4-3">
<pre>
$[?length(@.authors) &gt;= 5]
</pre><a href="#section-2.4.4-3" class="pilcrow">¶</a>
</div>
<p id="section-2.4.4-4">Its only argument is an instance of <code>ValueType</code> (possibly taken from a
singular query, as in the example above).  The result also is an
instance of <code>ValueType</code>: an unsigned integer or the special result <code>Nothing</code>.<a href="#section-2.4.4-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.4-5.1">If the argument value is a string, the result is the number of
Unicode scalar values in the string.<a href="#section-2.4.4-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.4-5.2">If the argument value is an array, the result is the number of
elements in the array.<a href="#section-2.4.4-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.4-5.3">If the argument value is an object, the result is the number of
members in the object.<a href="#section-2.4.4-5.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.4-5.4">For any other argument value, the result is the special result <code>Nothing</code>.<a href="#section-2.4.4-5.4" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="count">
<section id="section-2.4.5">
          <h4 id="name-count-function-extension">
<a href="#section-2.4.5" class="section-number selfRef">2.4.5. </a><a href="#name-count-function-extension" class="section-name selfRef"><code>count()</code> Function Extension</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-2.4.5-1">
            <dt id="section-2.4.5-1.1">Parameters:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.5-1.2">
              <ol start="1" type="1" class="normal type-1" id="section-2.4.5-1.2.1">
<li id="section-2.4.5-1.2.1.1">
                  <code>NodesType</code><a href="#section-2.4.5-1.2.1.1" class="pilcrow">¶</a>
</li>
              </ol>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.5-1.3">Result:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.5-1.4">
              <p id="section-2.4.5-1.4.1"><code>ValueType</code> (unsigned integer)<a href="#section-2.4.5-1.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.5-2">The <code>count()</code> function extension provides a way to obtain the number of
nodes in a nodelist and make that available for further processing in
the filter expression:<a href="#section-2.4.5-2" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-2.4.5-3">
<pre>
$[?count(@.*.author) &gt;= 5]
</pre><a href="#section-2.4.5-3" class="pilcrow">¶</a>
</div>
<p id="section-2.4.5-4">Its only argument is a nodelist.
The result is a value, an unsigned integer, that gives the number of
nodes in the nodelist.
Notes:<a href="#section-2.4.5-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.5-5.1">There is no deduplication of the nodelist.<a href="#section-2.4.5-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.5-5.2">The number of nodes in the nodelist is counted independent of their
values or any children they may have; e.g., the count of a non-empty
singular nodelist such as <code>count(@)</code> is always 1.<a href="#section-2.4.5-5.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="match">
<section id="section-2.4.6">
          <h4 id="name-match-function-extension">
<a href="#section-2.4.6" class="section-number selfRef">2.4.6. </a><a href="#name-match-function-extension" class="section-name selfRef"><code>match()</code> Function Extension</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-2.4.6-1">
            <dt id="section-2.4.6-1.1">Parameters:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.6-1.2">
              <ol start="1" type="1" class="normal type-1" id="section-2.4.6-1.2.1">
<li id="section-2.4.6-1.2.1.1">
                  <code>ValueType</code> (string)<a href="#section-2.4.6-1.2.1.1" class="pilcrow">¶</a>
</li>
                <li id="section-2.4.6-1.2.1.2">
                  <code>ValueType</code> (string conforming to <span>[<a href="#I-D.draft-ietf-jsonpath-iregexp" class="cite xref">I-D.draft-ietf-jsonpath-iregexp</a>]</span>)<a href="#section-2.4.6-1.2.1.2" class="pilcrow">¶</a>
</li>
              </ol>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.6-1.3">Result:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.6-1.4">
              <p id="section-2.4.6-1.4.1"><code>LogicalType</code><a href="#section-2.4.6-1.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.6-2">The <code>match()</code> function extension provides a way to check whether (the
entirety of, see <a href="#search" class="auto internal xref">Section 2.4.7</a> below) a given
string matches a given regular expression, which is in <span>[<a href="#I-D.draft-ietf-jsonpath-iregexp" class="cite xref">I-D.draft-ietf-jsonpath-iregexp</a>]</span> form.<a href="#section-2.4.6-2" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-2.4.6-3">
<pre>
$[?match(@.date, "1974-05-..")]
</pre><a href="#section-2.4.6-3" class="pilcrow">¶</a>
</div>
<p id="section-2.4.6-4">Its arguments are instances of <code>ValueType</code> (possibly taken from a
singular query, as for the first argument in the example above).
If the first argument is not a string or the second argument is not a
string conforming to <span>[<a href="#I-D.draft-ietf-jsonpath-iregexp" class="cite xref">I-D.draft-ietf-jsonpath-iregexp</a>]</span>, the result is <code>LogicalFalse</code>.
Otherwise, the string that is the first argument is matched against
the iregexp contained in the string that is the second argument;
the result is <code>LogicalTrue</code> if the string matches the iregexp and
<code>LogicalFalse</code> otherwise.<a href="#section-2.4.6-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="search">
<section id="section-2.4.7">
          <h4 id="name-search-function-extension">
<a href="#section-2.4.7" class="section-number selfRef">2.4.7. </a><a href="#name-search-function-extension" class="section-name selfRef"><code>search()</code> Function Extension</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-2.4.7-1">
            <dt id="section-2.4.7-1.1">Parameters:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.7-1.2">
              <ol start="1" type="1" class="normal type-1" id="section-2.4.7-1.2.1">
<li id="section-2.4.7-1.2.1.1">
                  <code>ValueType</code> (string)<a href="#section-2.4.7-1.2.1.1" class="pilcrow">¶</a>
</li>
                <li id="section-2.4.7-1.2.1.2">
                  <code>ValueType</code> (string conforming to <span>[<a href="#I-D.draft-ietf-jsonpath-iregexp" class="cite xref">I-D.draft-ietf-jsonpath-iregexp</a>]</span>)<a href="#section-2.4.7-1.2.1.2" class="pilcrow">¶</a>
</li>
              </ol>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.7-1.3">Result:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.7-1.4">
              <p id="section-2.4.7-1.4.1"><code>LogicalType</code><a href="#section-2.4.7-1.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.7-2">The <code>search()</code> function extension provides a way to check whether a
given string contains a substring that matches a given regular
expression, which is in <span>[<a href="#I-D.draft-ietf-jsonpath-iregexp" class="cite xref">I-D.draft-ietf-jsonpath-iregexp</a>]</span> form.<a href="#section-2.4.7-2" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-2.4.7-3">
<pre>
$[?search(@.author, "[BR]ob")]
</pre><a href="#section-2.4.7-3" class="pilcrow">¶</a>
</div>
<p id="section-2.4.7-4">Its arguments are instances of <code>ValueType</code> (possibly taken from a
singular query, as for the first argument in the example above).
If the first argument is not a string or the second argument is not a
string conforming to <span>[<a href="#I-D.draft-ietf-jsonpath-iregexp" class="cite xref">I-D.draft-ietf-jsonpath-iregexp</a>]</span>, the result is <code>LogicalFalse</code>.
Otherwise, the string that is the first argument is searched for at
least one substring that matches the iregexp contained in the string
that is the second argument; the result is <code>LogicalTrue</code> if such a
substring exists and <code>LogicalFalse</code> otherwise.<a href="#section-2.4.7-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="value">
<section id="section-2.4.8">
          <h4 id="name-value-function-extension">
<a href="#section-2.4.8" class="section-number selfRef">2.4.8. </a><a href="#name-value-function-extension" class="section-name selfRef"><code>value()</code> Function Extension</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-2.4.8-1">
            <dt id="section-2.4.8-1.1">Parameters:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.8-1.2">
              <ol start="1" type="1" class="normal type-1" id="section-2.4.8-1.2.1">
<li id="section-2.4.8-1.2.1.1">
                  <code>NodesType</code><a href="#section-2.4.8-1.2.1.1" class="pilcrow">¶</a>
</li>
              </ol>
</dd>
            <dd class="break"></dd>
<dt id="section-2.4.8-1.3">Result:</dt>
            <dd style="margin-left: 1.5em" id="section-2.4.8-1.4">
              <p id="section-2.4.8-1.4.1"><code>ValueType</code><a href="#section-2.4.8-1.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-2.4.8-2">The <code>value()</code> function extension provides a way to convert an instance of <code>NodesType</code> to a value and
make that available for further processing in the filter expression:<a href="#section-2.4.8-2" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="section-2.4.8-3">
<pre>
$[?value(@..color) == "red"]
</pre><a href="#section-2.4.8-3" class="pilcrow">¶</a>
</div>
<p id="section-2.4.8-4">Its only argument is an instance of <code>NodesType</code> (possibly taken from a
<code>filter-query</code>, as in the example above).  The result is an
instance of <code>ValueType</code>.<a href="#section-2.4.8-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4.8-5.1">If the argument contains a single node, the result is
the value of the node.<a href="#section-2.4.8-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.4.8-5.2">If the argument is the special result <code>Nothing</code> or contains multiple nodes, the
result is <code>Nothing</code>.<a href="#section-2.4.8-5.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.4.8-6">Note: a singular query may be used anywhere where a ValueType is expected,
so there is no need to use the <code>value()</code> function extension with a singular query.<a href="#section-2.4.8-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples-6">
<section id="section-2.4.9">
          <h4 id="name-examples-7">
<a href="#section-2.4.9" class="section-number selfRef">2.4.9. </a><a href="#name-examples-7" class="section-name selfRef">Examples</a>
          </h4>
<span id="name-function-expression-example"></span><div id="tbl-function-expr">
<table class="center" id="table-14">
            <caption>
<a href="#table-14" class="selfRef">Table 14</a>:
<a href="#name-function-expression-example" class="selfRef">Function expression examples</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" rowspan="1" colspan="1">Query</th>
                <th class="text-left" rowspan="1" colspan="1">Comment</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?length(@) &lt; 3]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?length(@.*) &lt; 3]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">not well-typed since <code>@.*</code> is a non-singular query</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?count(@.*) == 1]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?count(1) == 1]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">not well-typed since <code>1</code> is not a query or function expression</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?count(foo(@.*)) == 1]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed, where <code>foo()</code> is a function extension with a parameter of type <code>NodesType</code> and result type <code>NodesType</code>
</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?match(@.timezone, 'Europe/.*')]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?match(@.timezone, 'Europe/.*') == true]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">not well-typed as <code>LogicalType</code> may not be used in comparisons</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?value(@..color) == "red"]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?value(@..color)]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">not well-typed as <code>ValueType</code> may not be used in a test expression</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?bar(@.a)]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed for any function <code>bar()</code> with a parameter of any declared type and result type <code>LogicalType</code>
</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?bnl(@.*)]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed for any function <code>bnl()</code> with a parameter of declared type <code>NodesType</code> or <code>LogicalType</code> and result type <code>LogicalType</code>
</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?blt(1==1)]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed, where <code>blt()</code> is a function with a parameter of declared type <code>LogicalType</code> and result type <code>LogicalType</code>
</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?blt(1)]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">not well-typed for the same function <code>blt()</code>, as <code>1</code> is not a query, <code>logical-expr</code>, or function expression</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[?bal(1)]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">well-typed, where <code>bal()</code> is a function with a parameter of declared type <code>ValueType</code> and result type <code>LogicalType</code>
</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
<div id="segments-details">
<section id="section-2.5">
        <h3 id="name-segments-2">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-segments-2" class="section-name selfRef">Segments</a>
        </h3>
<p id="section-2.5-1">For each node in an input nodelist,
segments apply one or more selectors to the node and concatenate the
results of each selector into per-input-node nodelists, which are then
concatenated in the order of the input nodelist to form a single
segment result nodelist.<a href="#section-2.5-1" class="pilcrow">¶</a></p>
<p id="section-2.5-2">It turns out that the more segments there are in a query, the greater the depth in the input value of the
nodes of the resultant nodelist:<a href="#section-2.5-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.5-3.1">A query with N segments, where N &gt;= 0, produces a nodelist
consisting of nodes at depth in the input value of N or greater.<a href="#section-2.5-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.5-3.2">A query with N segments, where N &gt;= 0, all of which are <span><a href="#child-segment" class="internal xref">child segments</a> (<a href="#child-segment" class="auto internal xref">Section 2.5.1</a>)</span>,
produces a nodelist consisting of nodes precisely at depth N in the input value.<a href="#section-2.5-3.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.5-4">There are two kinds of segment: child segments and descendant segments.<a href="#section-2.5-4" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.5-5">
<pre>
segment             = child-segment / descendant-segment
</pre><a href="#section-2.5-5" class="pilcrow">¶</a>
</div>
<p id="section-2.5-6">The syntax and semantics of each kind of segment are defined below.<a href="#section-2.5-6" class="pilcrow">¶</a></p>
<div id="child-segment">
<section id="section-2.5.1">
          <h4 id="name-child-segment">
<a href="#section-2.5.1" class="section-number selfRef">2.5.1. </a><a href="#name-child-segment" class="section-name selfRef">Child Segment</a>
          </h4>
<div id="syntax-4">
<section id="section-2.5.1.1">
            <h5 id="name-syntax-8">
<a href="#section-2.5.1.1" class="section-number selfRef">2.5.1.1. </a><a href="#name-syntax-8" class="section-name selfRef">Syntax</a>
            </h5>
<p id="section-2.5.1.1-1">The child segment consists of a non-empty, comma-separated
sequence of selectors enclosed in square brackets.<a href="#section-2.5.1.1-1" class="pilcrow">¶</a></p>
<p id="section-2.5.1.1-2">Shorthand notations are also provided for when there is a single
wildcard or name selector.<a href="#section-2.5.1.1-2" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.5.1.1-3">
<pre>
child-segment       = bracketed-selection /
                      ("."
                       (wildcard-selector /
                        member-name-shorthand))

bracketed-selection = "[" S selector *(S "," S selector) S "]"

member-name-shorthand = name-first *name-char
name-first          = ALPHA /
                      "_"   /
                      %x80-10FFFF   ; any non-ASCII Unicode character
name-char           = DIGIT / name-first

DIGIT               = %x30-39              ; 0-9
ALPHA               = %x41-5A / %x61-7A    ; A-Z / a-z
</pre><a href="#section-2.5.1.1-3" class="pilcrow">¶</a>
</div>
<p id="section-2.5.1.1-4"><code>.*</code>, a <code>child-segment</code> directly built from a <code>wildcard-selector</code>, is
shorthand for <code>[*]</code>.<a href="#section-2.5.1.1-4" class="pilcrow">¶</a></p>
<p id="section-2.5.1.1-5"><code>.&lt;member-name&gt;</code>, a <code>child-segment</code> built from a
 <code>member-name-shorthand</code>, is shorthand for <code>['&lt;member-name&gt;']</code>.
Note: this can only be used with member names that are composed of certain
characters, as specified in the ABNF rule <code>member-name-shorthand</code>.
Thus, for example, <code>$.foo.bar</code> is shorthand for <code>$['foo']['bar']</code> (but not for <code>$['foo.bar']</code>).<a href="#section-2.5.1.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics-6">
<section id="section-2.5.1.2">
            <h5 id="name-semantics-8">
<a href="#section-2.5.1.2" class="section-number selfRef">2.5.1.2. </a><a href="#name-semantics-8" class="section-name selfRef">Semantics</a>
            </h5>
<p id="section-2.5.1.2-1">A child segment contains a sequence of selectors, each of which
selects zero or more children of the input value.<a href="#section-2.5.1.2-1" class="pilcrow">¶</a></p>
<p id="section-2.5.1.2-2">Selectors of different kinds may be combined within a single child segment.<a href="#section-2.5.1.2-2" class="pilcrow">¶</a></p>
<p id="section-2.5.1.2-3">For each node in the input nodelist,
the resulting nodelist of a child segment is the concatenation of
the nodelists from each of its selectors in the order that the selectors
appear in the list.
Note: any node matched by more than one selector is kept
as many times in the nodelist.<a href="#section-2.5.1.2-3" class="pilcrow">¶</a></p>
<p id="section-2.5.1.2-4">Where a selector can produce a nodelist in more than one possible order,
each occurrence of the selector in the child segment
may evaluate to produce a nodelist in a distinct order.<a href="#section-2.5.1.2-4" class="pilcrow">¶</a></p>
<p id="section-2.5.1.2-5">So a child segment drills down one more level into the structure of the input value.<a href="#section-2.5.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples-7">
<section id="section-2.5.1.3">
            <h5 id="name-examples-8">
<a href="#section-2.5.1.3" class="section-number selfRef">2.5.1.3. </a><a href="#name-examples-8" class="section-name selfRef">Examples</a>
            </h5>
<p id="section-2.5.1.3-1">JSON:<a href="#section-2.5.1.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.5.1.3-2">
<pre>
["a", "b", "c", "d", "e", "f", "g"]
</pre><a href="#section-2.5.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.5.1.3-3">Queries:<a href="#section-2.5.1.3-3" class="pilcrow">¶</a></p>
<span id="name-child-segment-examples"></span><div id="tbl-child-segment">
<table class="center" id="table-15">
              <caption>
<a href="#table-15" class="selfRef">Table 15</a>:
<a href="#name-child-segment-examples" class="selfRef">Child segment examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Query</th>
                  <th class="text-left" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                  <th class="text-left" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[0, 3]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"a"</code> <br> <code>"d"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[0]</code> <br> <code>$[3]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Indices</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[0:2, 5]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"a"</code> <br> <code>"b"</code> <br> <code>"f"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[0]</code> <br> <code>$[1]</code> <br> <code>$[5]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Slice and index</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[0, 0]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>"a"</code> <br> <code>"a"</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$[0]</code> <br> <code>$[0]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Duplicated entries</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
</section>
</div>
<div id="descendant-segment">
<section id="section-2.5.2">
          <h4 id="name-descendant-segment">
<a href="#section-2.5.2" class="section-number selfRef">2.5.2. </a><a href="#name-descendant-segment" class="section-name selfRef">Descendant Segment</a>
          </h4>
<div id="syntax-5">
<section id="section-2.5.2.1">
            <h5 id="name-syntax-9">
<a href="#section-2.5.2.1" class="section-number selfRef">2.5.2.1. </a><a href="#name-syntax-9" class="section-name selfRef">Syntax</a>
            </h5>
<p id="section-2.5.2.1-1">The descendant segment consists of a double dot <code>..</code>
followed by a child segment (using bracket notation).<a href="#section-2.5.2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.5.2.1-2">Shortand notations are also provided that correspond to the shorthand forms of the child segment.<a href="#section-2.5.2.1-2" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.5.2.1-3">
<pre>
descendant-segment  = ".." (bracketed-selection /
                            wildcard-selector /
                            member-name-shorthand)
</pre><a href="#section-2.5.2.1-3" class="pilcrow">¶</a>
</div>
<p id="section-2.5.2.1-4"><code>..*</code>, the <code>descendant-segment</code> directly built from a
<code>wildcard-selector</code>, is shorthand for <code>..[*]</code>.<a href="#section-2.5.2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.5.2.1-5"><code>..&lt;member-name&gt;</code>, a <code>descendant-segment</code> built from a
<code>member-name-shorthand</code>, is shorthand for <code>..['&lt;member-name&gt;']</code>.
Note: as with the similar shorthand of a <code>child-segment</code>, this can
only be used with member names that are composed of certain
characters, as specified in the ABNF rule <code>member-name-shorthand</code>.<a href="#section-2.5.2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.5.2.1-6">Note: <code>..</code> on its own is not a valid segment.<a href="#section-2.5.2.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics-7">
<section id="section-2.5.2.2">
            <h5 id="name-semantics-9">
<a href="#section-2.5.2.2" class="section-number selfRef">2.5.2.2. </a><a href="#name-semantics-9" class="section-name selfRef">Semantics</a>
            </h5>
<p id="section-2.5.2.2-1">A descendant segment produces zero or more descendants of an input value.<a href="#section-2.5.2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.5.2.2-2">For each node in the input nodelist,
a descendant selector visits the input node and each of
its descendants such that:<a href="#section-2.5.2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.5.2.2-3.1">nodes of any array are visited in array order, and<a href="#section-2.5.2.2-3.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.2-3.2">nodes are visited before their descendants.<a href="#section-2.5.2.2-3.2" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-2.5.2.2-4">The order in which the children of an object are visited is not stipulated, since
JSON objects are unordered.<a href="#section-2.5.2.2-4" class="pilcrow">¶</a></p>
<p id="section-2.5.2.2-5">Suppose the descendant segment is of the form <code>..[&lt;selectors&gt;]</code> (after converting any shorthand
form to bracket notation)
and the nodes, in the order visited, are <code>D1</code>, ..., <code>Dn</code> (where <code>n &gt;= 1</code>).
Note: <code>D1</code> is the input value.<a href="#section-2.5.2.2-5" class="pilcrow">¶</a></p>
<p id="section-2.5.2.2-6">For each <code>i</code> such that <code>1 &lt;= i &lt;= n</code>, the nodelist <code>Ri</code> is defined to be a result of applying
the child segment <code>[&lt;selectors&gt;]</code> to the node <code>Di</code>.<a href="#section-2.5.2.2-6" class="pilcrow">¶</a></p>
<p id="section-2.5.2.2-7">For each node in the input nodelist,
the result of the descendant segment is the concatenation of <code>R1</code>,
..., <code>Rn</code> (in that order).
These results are then concatenated in input nodelist order to form
the result of the segment.<a href="#section-2.5.2.2-7" class="pilcrow">¶</a></p>
<p id="section-2.5.2.2-8">So a descendant segment drills down one or more levels into the structure of each input value.<a href="#section-2.5.2.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples-8">
<section id="section-2.5.2.3">
            <h5 id="name-examples-9">
<a href="#section-2.5.2.3" class="section-number selfRef">2.5.2.3. </a><a href="#name-examples-9" class="section-name selfRef">Examples</a>
            </h5>
<p id="section-2.5.2.3-1">JSON:<a href="#section-2.5.2.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.5.2.3-2">
<pre>
{
  "o": {"j": 1, "k": 2},
  "a": [5, 3, [{"j": 4}, {"k": 6}]]
}
</pre><a href="#section-2.5.2.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.5.2.3-3">Queries:<a href="#section-2.5.2.3-3" class="pilcrow">¶</a></p>
<p id="section-2.5.2.3-4">(Note that the fourth example can be expressed in two equivalent
queries, shown here in one table row instead of two almost identical rows.)<a href="#section-2.5.2.3-4" class="pilcrow">¶</a></p>
<span id="name-descendant-segment-examples"></span><div id="tbl-descendant-segment">
<table class="center" id="table-16">
              <caption>
<a href="#table-16" class="selfRef">Table 16</a>:
<a href="#name-descendant-segment-examples" class="selfRef">Descendant segment examples</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Query</th>
                  <th class="text-left" rowspan="1" colspan="1">Result</th>
                  <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                  <th class="text-left" rowspan="1" colspan="1">Comment</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$..j</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>1</code> <br> <code>4</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['j']</code> <br> <code>$['a'][2][0]['j']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Object values</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$..j</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>4</code> <br> <code>1</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][2][0]['j']</code> <br> <code>$['o']['j']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Alternative result</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$..[0]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>5</code> <br> <code>{"j": 4}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][0]</code> <br> <code>$['a'][2][0]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Array values</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$..[*]</code> <br>or<br> <code>$..*</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"j": 1, "k": 2}</code> <br> <code>[5, 3, [{"j": 4}, {"k": 6}]]</code> <br> <code>1</code> <br> <code>2</code> <br> <code>5</code> <br> <code>3</code> <br> <code>[{"j": 4}, {"k": 6}]</code> <br> <code>{"j": 4}</code> <br> <code>{"k": 6}</code> <br> <code>4</code> <br> <code>6</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']</code> <br> <code>$['a']</code> <br> <code>$['o']['j']</code> <br> <code>$['o']['k']</code> <br> <code>$['a'][0]</code> <br> <code>$['a'][1]</code> <br> <code>$['a'][2]</code> <br> <code>$['a'][2][0]</code> <br> <code>$['a'][2][1]</code> <br> <code>$['a'][2][0]['j']</code> <br> <code>$['a'][2][1]['k']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">All values</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$..o</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>{"j": 1, "k": 2}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Input value is visited</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.o..[*, *]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>1</code> <br> <code>2</code> <br> <code>2</code> <br> <code>1</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['o']['j']</code> <br> <code>$['o']['k']</code> <br> <code>$['o']['k']</code> <br> <code>$['o']['j']</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-deterministic ordering</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$.a..[0, 1]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <code>5</code> <br> <code>3</code> <br> <code>{"j": 4}</code> <br> <code>{"k": 6}</code>
</td>
                  <td class="text-center" rowspan="1" colspan="1">
                    <code>$['a'][0]</code> <br> <code>$['a'][1]</code> <br> <code>$['a'][2][0]</code> <br> <code>$['a'][2][1]</code>
</td>
                  <td class="text-left" rowspan="1" colspan="1">Multiple segments</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-2.5.2.3-6">Note: the ordering of the results for the <code>$..[*]</code> and <code>$..*</code> examples above is not guaranteed, except that:<a href="#section-2.5.2.3-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.5.2.3-7.1">
                <code>{"j": 1, "k": 2}</code> must appear before <code>1</code> and <code>2</code>,<a href="#section-2.5.2.3-7.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.3-7.2">
                <code>[5, 3, [{"j": 4}, {"k": 6}]]</code> must appear before <code>5</code>, <code>3</code>, and <code>[{"j": 4}, {"k": 6}]</code>,<a href="#section-2.5.2.3-7.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.3-7.3">
                <code>5</code> must appear before <code>3</code> which must appear before <code>[{"j": 4}, {"k": 6}]</code>,<a href="#section-2.5.2.3-7.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.3-7.4">
                <code>5</code> and <code>3</code> must appear before <code>{"j": 4}</code>, <code>4</code>, <code>, {"k": 6}</code>, and <code>6</code>,<a href="#section-2.5.2.3-7.4" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.3-7.5">
                <code>[{"j": 4}, {"k": 6}]</code> must appear before <code>{"j": 4}</code> and <code>{"k": 6}</code>,<a href="#section-2.5.2.3-7.5" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.3-7.6">
                <code>{"j": 4}</code> must appear before <code>{"k": 6}</code>,<a href="#section-2.5.2.3-7.6" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.3-7.7">
                <code>{"k": 6}</code> must appear before <code>4</code>, and<a href="#section-2.5.2.3-7.7" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.5.2.3-7.8">
                <code>4</code> must appear before <code>6</code>.<a href="#section-2.5.2.3-7.8" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-2.5.2.3-8">The example above with the query <code>$.o..[*, *]</code> shows that a selector may produce nodelists in distinct orders
each time it appears in the descendant segment.<a href="#section-2.5.2.3-8" class="pilcrow">¶</a></p>
<p id="section-2.5.2.3-9">The example above with the query <code>$.a..[0, 1]</code> shows that the child segment <code>[0, 1]</code> is applied to each node
in turn (rather than the nodes being visited once per selector, which is the case for some JSONPath implementations
that do not conform to this specification).<a href="#section-2.5.2.3-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="null-semantics">
<section id="section-2.6">
        <h3 id="name-semantics-of-null">
<a href="#section-2.6" class="section-number selfRef">2.6. </a><a href="#name-semantics-of-null" class="section-name selfRef">Semantics of <code>null</code></a>
        </h3>
<p id="section-2.6-1">Note: JSON <code>null</code> is treated the same as any other JSON value: it is not taken to mean "undefined" or "missing".<a href="#section-2.6-1" class="pilcrow">¶</a></p>
<div id="examples-9">
<section id="section-2.6.1">
          <h4 id="name-examples-10">
<a href="#section-2.6.1" class="section-number selfRef">2.6.1. </a><a href="#name-examples-10" class="section-name selfRef">Examples</a>
          </h4>
<p id="section-2.6.1-1">JSON:<a href="#section-2.6.1-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-2.6.1-2">
<pre>
{"a": null, "b": [null], "c": [{}], "null": 1}
</pre><a href="#section-2.6.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.6.1-3">Queries:<a href="#section-2.6.1-3" class="pilcrow">¶</a></p>
<span id="name-examples-involving-or-not-i"></span><div id="tbl-null-examples">
<table class="center" id="table-17">
            <caption>
<a href="#table-17" class="selfRef">Table 17</a>:
<a href="#name-examples-involving-or-not-i" class="selfRef">Examples involving (or not involving) null</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" rowspan="1" colspan="1">Query</th>
                <th class="text-left" rowspan="1" colspan="1">Result</th>
                <th class="text-center" rowspan="1" colspan="1">Result Paths</th>
                <th class="text-left" rowspan="1" colspan="1">Comment</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.a</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>null</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['a']</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Object value</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.a[0]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1"> </td>
                <td class="text-center" rowspan="1" colspan="1"> </td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>null</code> used as array</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.a.d</code>
</td>
                <td class="text-left" rowspan="1" colspan="1"> </td>
                <td class="text-center" rowspan="1" colspan="1"> </td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>null</code> used as object</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.b[0]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>null</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['b'][0]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Array value</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.b[*]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>null</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['b'][0]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Array value</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.b[?@]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>null</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['b'][0]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Existence</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.b[?@==null]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>null</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['b'][0]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Comparison</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.c[?@.d==null]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1"> </td>
                <td class="text-center" rowspan="1" colspan="1"> </td>
                <td class="text-left" rowspan="1" colspan="1">Comparison with "missing" value</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.null</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <code>1</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['null']</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Not JSON null at all, just a member name string</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
<div id="normalized-paths">
<section id="section-2.7">
        <h3 id="name-normalized-paths">
<a href="#section-2.7" class="section-number selfRef">2.7. </a><a href="#name-normalized-paths" class="section-name selfRef">Normalized Paths</a>
        </h3>
<p id="section-2.7-1">A Normalized Path is a unique representation of the location of a node in a value which
uniquely identifies the node in the value.
Specifically, a Normalized Path is a JSONPath query with restricted syntax (defined below),
e.g., <code>$['book'][3]</code>, which when applied to the value results in a nodelist consisting
of just the node identified by the Normalized Path.
Note: a Normalized Path represents the identity of a node <em>in a specific value</em>.
There is precisely one Normalized Path identifying any particular node in a value.<a href="#section-2.7-1" class="pilcrow">¶</a></p>
<p id="section-2.7-2">A nodelist may be represented compactly in JSON as an array of strings, where the strings are
Normalized Paths.<a href="#section-2.7-2" class="pilcrow">¶</a></p>
<p id="section-2.7-3">Normalized Paths provide a predictable format that simplifies testing and post-processing
of nodelists, e.g., to remove duplicate nodes.
Normalized Paths are used in this document as result paths in examples.<a href="#section-2.7-3" class="pilcrow">¶</a></p>
<p id="section-2.7-4">Normalized Paths use the canonical bracket notation, rather than dot notation.<a href="#section-2.7-4" class="pilcrow">¶</a></p>
<p id="section-2.7-5">Single quotes are used in Normalized Paths to delimit string member names. This reduces the
number of characters that need escaping when Normalized Paths appear in double quote-delimited
strings, e.g., in JSON texts.<a href="#section-2.7-5" class="pilcrow">¶</a></p>
<p id="section-2.7-6">Certain characters are escaped in Normalized Paths, in one and only one way; all other
characters are unescaped.<a href="#section-2.7-6" class="pilcrow">¶</a></p>
<p id="section-2.7-7">Note: Normalized Paths are singular queries, but not all singular queries are Normalized Paths.
For example, <code>$[-3]</code> is a singular query, but is not a Normalized Path.
The Normalized Path equivalent to <code>$[-3]</code> would have an index equal to the array length minus <code>3</code>.
(The array length must be at least <code>3</code> if <code>$[-3]</code> is to identify a node.)<a href="#section-2.7-7" class="pilcrow">¶</a></p>
<div class="lang-abnf sourcecode" id="section-2.7-8">
<pre>
normalized-path      = root-identifier *(normal-index-segment)
normal-index-segment = "[" normal-selector "]"
normal-selector      = normal-name-selector / normal-index-selector
normal-name-selector = %x27 *normal-single-quoted %x27 ; 'string'
normal-single-quoted = normal-unescaped /
                       ESC normal-escapable
normal-unescaped     =    ; omit %x0-1F control codes
                       %x20-26 /
                          ; omit 0x27 '
                       %x28-5B /
                          ; omit 0x5C \
                       %x5D-10FFFF
normal-escapable     = %x62 / ; b BS backspace U+0008
                       %x66 / ; f FF form feed U+000C
                       %x6E / ; n LF line feed U+000A
                       %x72 / ; r CR carriage return U+000D
                       %x74 / ; t HT horizontal tab U+0009
                       "'" /  ; ' apostrophe U+0027
                       "\" /  ; \ backslash (reverse solidus) U+005C
                       (%x75 normal-hexchar)
                                       ; certain values u00xx U+00XX
normal-hexchar       = "0" "0"
                       (
                          ("0" %x30-37) / ; "00"-"07"
                             ; omit U+0008-U+000A BS HT LF
                          ("0" %x62) /    ; "0b"
                             ; omit U+000C-U+000D FF CR
                          ("0" %x65-66) / ; "0e"-"0f"
                          ("1" normal-HEXDIG)
                        )
normal-HEXDIG        = DIGIT / %x61-66    ; "0"-"9", "a"-"f"
normal-index-selector = "0" / (DIGIT1 *DIGIT)
                        ; non-negative decimal integer
</pre><a href="#section-2.7-8" class="pilcrow">¶</a>
</div>
<p id="section-2.7-9">Since there can only be one Normalized Path identifying a given node, the syntax
stipulates which characters are escaped and which are not.
So the definition of <code>normal-hexchar</code> is designed for hex escaping of characters
which are not straightforwardly printable, for example U+000B LINE TABULATION, but
for which no standard JSON escape, such as <code>\n</code>, is available.<a href="#section-2.7-9" class="pilcrow">¶</a></p>
<div id="examples-10">
<section id="section-2.7.1">
          <h4 id="name-examples-11">
<a href="#section-2.7.1" class="section-number selfRef">2.7.1. </a><a href="#name-examples-11" class="section-name selfRef">Examples</a>
          </h4>
<span id="name-normalized-path-examples"></span><div id="tbl-normalized-path-examples">
<table class="center" id="table-18">
            <caption>
<a href="#table-18" class="selfRef">Table 18</a>:
<a href="#name-normalized-path-examples" class="selfRef">Normalized Path examples</a>
            </caption>
<thead>
              <tr>
                <th class="text-center" rowspan="1" colspan="1">Path</th>
                <th class="text-center" rowspan="1" colspan="1">Normalized Path</th>
                <th class="text-left" rowspan="1" colspan="1">Comment</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.a</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['a']</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Object value</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[1]</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[1]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Array index</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[-3]</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$[2]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Negative array index for an array of length 5</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$.a.b[1:2]</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['a']['b'][1]</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Nested structure</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$["\u000B"]</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['\u000b']</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Unicode escape</td>
              </tr>
              <tr>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$["\u0061"]</code>
</td>
                <td class="text-center" rowspan="1" colspan="1">
                  <code>$['a']</code>
</td>
                <td class="text-left" rowspan="1" colspan="1">Unicode character</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-3">
      <h2 id="name-iana-considerations">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-3-1"><span class="cref" id="replace-xxxx">RFC Ed.: throughout this section, please replace
RFCXXXX with the RFC number of this specification and remove this
note.</span><a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="registration-of-media-type-applicationjsonpath">
<section id="section-3.1">
        <h3 id="name-registration-of-media-type-">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-registration-of-media-type-" class="section-name selfRef">Registration of Media Type application/jsonpath</a>
        </h3>
<p id="section-3.1-1">IANA is requested to register the following media type <span>[<a href="#RFC6838" class="cite xref">RFC6838</a>]</span>:<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-2">
          <dt id="section-3.1-2.1">Type name:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.2">
            <p id="section-3.1-2.2.1">application<a href="#section-3.1-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.3">Subtype name:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.4">
            <p id="section-3.1-2.4.1">jsonpath<a href="#section-3.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.5">Required parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.6">
            <p id="section-3.1-2.6.1">N/A<a href="#section-3.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.7">Optional parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.8">
            <p id="section-3.1-2.8.1">N/A<a href="#section-3.1-2.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.9">Encoding considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.10">
            <p id="section-3.1-2.10.1">binary (UTF-8)<a href="#section-3.1-2.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.11">Security considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.12">
            <p id="section-3.1-2.12.1">See the Security Considerations section of RFCXXXX.<a href="#section-3.1-2.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.13">Interoperability considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.14">
            <p id="section-3.1-2.14.1">N/A<a href="#section-3.1-2.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.15">Published specification:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.16">
            <p id="section-3.1-2.16.1">RFCXXXX<a href="#section-3.1-2.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.17">Applications that use this media type:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.18">
            <p id="section-3.1-2.18.1">Applications that need to convey queries in JSON data<a href="#section-3.1-2.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.19">Fragment identifier considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.20">
            <p id="section-3.1-2.20.1">N/A<a href="#section-3.1-2.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.21">Additional information:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.22">
            <span class="break"></span><dl class="dlParallel" id="section-3.1-2.22.1">
              <dt id="section-3.1-2.22.1.1">Deprecated alias names for this type:</dt>
              <dd style="margin-left: 1.5em" id="section-3.1-2.22.1.2">
                <p id="section-3.1-2.22.1.2.1">N/A<a href="#section-3.1-2.22.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.1-2.22.1.3">Magic number(s):</dt>
              <dd style="margin-left: 1.5em" id="section-3.1-2.22.1.4">
                <p id="section-3.1-2.22.1.4.1">N/A<a href="#section-3.1-2.22.1.4.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.1-2.22.1.5">File extension(s):</dt>
              <dd style="margin-left: 1.5em" id="section-3.1-2.22.1.6">
                <p id="section-3.1-2.22.1.6.1">N/A<a href="#section-3.1-2.22.1.6.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-3.1-2.22.1.7">Macintosh file type code(s):</dt>
              <dd style="margin-left: 1.5em" id="section-3.1-2.22.1.8">
                <p id="section-3.1-2.22.1.8.1">N/A<a href="#section-3.1-2.22.1.8.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.1-3">Person &amp; email address to contact for further information:
   iesg@ietf.org<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-4">
          <dt id="section-3.1-4.1">Intended usage:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-4.2">
            <p id="section-3.1-4.2.1">COMMON<a href="#section-3.1-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.3">Restrictions on usage:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-4.4">
            <p id="section-3.1-4.4.1">N/A<a href="#section-3.1-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.5">Author:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-4.6">
            <p id="section-3.1-4.6.1">JSONPath WG<a href="#section-3.1-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.7">Change controller:</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-4.8">
            <p id="section-3.1-4.8.1">IETF<a href="#section-3.1-4.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-4.9">Provisional registration? (standards tree only):</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-4.10">
            <p id="section-3.1-4.10.1">no<a href="#section-3.1-4.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="iana-fnex">
<section id="section-3.2">
        <h3 id="name-function-extensions-2">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-function-extensions-2" class="section-name selfRef">Function Extensions</a>
        </h3>
<p id="section-3.2-1">This specification defines a new "Function Extensions sub-registry" in
a new "JSONPath Parameters registry", with the policy "expert review"
(<span><a href="https://rfc-editor.org/rfc/rfc8126#section-4.5" class="relref">Section 4.5</a> of [<a href="#BCP26" class="cite xref">BCP26</a>]</span>).<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<div id="de-instructions">
<p id="section-3.2-2">The experts are instructed to be frugal in the allocation of function
extension names that are suggestive of generally applicable semantics,
keeping them in reserve for functions that are likely to enjoy wide
use and can make good use of their conciseness.
The expert is also instructed to direct the registrant to provide a
specification (<span><a href="https://rfc-editor.org/rfc/rfc8126#section-4.6" class="relref">Section 4.6</a> of [<a href="#BCP26" class="cite xref">BCP26</a>]</span>), but can make exceptions,
for instance when a specification is not available at the time of
registration but is likely forthcoming.
If the expert becomes aware of function extensions that are deployed and
in use, they may also initiate a registration on their own if
they deem such a registration can avert potential future collisions.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</div>
<p id="section-3.2-3">Each entry in the sub-registry must include:<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.2-4">
          <dt id="section-3.2-4.1">Function Name:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-4.2">
            <p id="section-3.2-4.2.1">a lower case ASCII <span>[<a href="#STD80" class="cite xref">STD80</a>]</span> string that starts with a letter and can
contain letters, digits and underscore characters afterwards
(<code>[a-z][_a-z0-9]*</code>). No other entry in the sub-registry can have the
same function name.<a href="#section-3.2-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-4.3">Brief description:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-4.4">
            <p id="section-3.2-4.4.1">a brief description<a href="#section-3.2-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-4.5">Parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-4.6">
            <p id="section-3.2-4.6.1">A comma-separated list of zero or more declared types, one for each of the
arguments expected for this function extension<a href="#section-3.2-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-4.7">Result:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-4.8">
            <p id="section-3.2-4.8.1">The declared type of the result for this function extension<a href="#section-3.2-4.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-4.9">Change Controller:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-4.10">
            <p id="section-3.2-4.10.1">(see <span><a href="https://rfc-editor.org/rfc/rfc8126#section-2.3" class="relref">Section 2.3</a> of [<a href="#BCP26" class="cite xref">BCP26</a>]</span>)<a href="#section-3.2-4.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-4.11">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-3.2-4.12">
            <p id="section-3.2-4.12.1">a reference document that provides a description of the function
extension<a href="#section-3.2-4.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.2-5">Initial entries in this sub-registry are as listed in <a href="#pre-reg" class="auto internal xref">Table 19</a>; the
entries in the Column "Change Controller" all have the value "IETF"
and the entries in the column
"Reference" all have the value "<a href="#fnex" class="auto internal xref">Section 2.4</a> of RFCXXXX":<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<span id="name-initial-entries-in-the-func"></span><div id="pre-reg">
<table class="center" id="table-19">
          <caption>
<a href="#table-19" class="selfRef">Table 19</a>:
<a href="#name-initial-entries-in-the-func" class="selfRef">Initial Entries in the Function Extensions Subregistry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Function Name</th>
              <th class="text-left" rowspan="1" colspan="1">Brief description</th>
              <th class="text-left" rowspan="1" colspan="1">Parameters</th>
              <th class="text-left" rowspan="1" colspan="1">Result</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">length</td>
              <td class="text-left" rowspan="1" colspan="1">length of string, array, object</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ValueType</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ValueType</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">count</td>
              <td class="text-left" rowspan="1" colspan="1">size of nodelist</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>NodesType</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ValueType</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">match</td>
              <td class="text-left" rowspan="1" colspan="1">regular expression full match</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ValueType</code>, <code>ValueType</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>LogicalType</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">search</td>
              <td class="text-left" rowspan="1" colspan="1">regular expression substring match</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ValueType</code>, <code>ValueType</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>LogicalType</code>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">value</td>
              <td class="text-left" rowspan="1" colspan="1">value of single node in nodelist</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>NodesType</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>ValueType</code>
</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-4">
      <h2 id="name-security-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-4-1">Security considerations for JSONPath can stem from<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">attack vectors on JSONPath implementations,<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.2">attack vectors on how JSONPath queries are formed, and<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.3">the way JSONPath is used in security-relevant mechanisms.<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<div id="attack-vectors-on-jsonpath-implementations">
<section id="section-4.1">
        <h3 id="name-attack-vectors-on-jsonpath-">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-attack-vectors-on-jsonpath-" class="section-name selfRef">Attack Vectors on JSONPath Implementations</a>
        </h3>
<p id="section-4.1-1">Historically, JSONPath has often been implemented by feeding parts of
the query to an underlying programming language engine, e.g.,
JavaScript's <code>eval()</code> function.
This approach is well known to lead to injection attacks and would
require perfect input validation to prevent these attacks (see
<span><a href="https://rfc-editor.org/rfc/rfc8259#section-12" class="relref">Section 12</a> of [<a href="#RFC8259" class="cite xref">RFC8259</a>]</span> for similar considerations for JSON itself).
Instead, JSONPath implementations need to implement the entire syntax
of the query without relying on the parsers of programming language
engines.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Attacks on availability may attempt to trigger unusually expensive
runtime performance exhibited by certain implementations in certain
cases.
(See <span><a href="https://rfc-editor.org/rfc/rfc8949#section-10" class="relref">Section 10</a> of [<a href="#RFC8949" class="cite xref">RFC8949</a>]</span> for issues in hash-table implementations,
and <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-jsonpath-iregexp-08#section-8" class="relref">Section 8</a> of [<a href="#I-D.draft-ietf-jsonpath-iregexp" class="cite xref">I-D.draft-ietf-jsonpath-iregexp</a>]</span> for performance issues in regular
expression implementations.)
Implementers need to be aware that good average performance is not
sufficient as long as an attacker can choose to submit specially
crafted JSONPath queries or query arguments that trigger surprisingly high, possibly
exponential, CPU usage or, for example via a naive recursive implementation of the descendant segment,
stack overflow. Implementations need to have appropriate resource management
to mitigate these attacks.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="attack-vectors-on-how-jsonpath-queries-are-formed">
<section id="section-4.2">
        <h3 id="name-attack-vectors-on-how-jsonp">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-attack-vectors-on-how-jsonp" class="section-name selfRef">Attack Vectors on How JSONPath Queries are Formed</a>
        </h3>
<p id="section-4.2-1">JSONPath queries are often not static, but formed from variables that
provide index values, member names, or values to compare with in a
filter expression.
These variables need to be validated (e.g., only allowing specific constructs
such as .name to be formed when the given values allow that) and translated
(e.g., by escaping string delimiters).
Not performing these validations and translations correctly can lead to unexpected
failures, which can lead to Availability, Confidentiality, and
Integrity breaches, in particular if an adversary has control over the
values (e.g., by entering them into a Web form).
The resulting class of attacks, <em>injections</em> (e.g., SQL injections),
is consistently found among the top causes of application security
vulnerabilities and requires particular attention.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="attacks-on-security-mechanisms-that-employ-jsonpath">
<section id="section-4.3">
        <h3 id="name-attacks-on-security-mechani">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-attacks-on-security-mechani" class="section-name selfRef">Attacks on Security Mechanisms that Employ JSONPath</a>
        </h3>
<p id="section-4.3-1">Where JSONPath is used as a part of a security mechanism, attackers
can attempt to provoke unexpected or unpredictable behavior, or
take advantage of differences in behavior between JSONPath implementations.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Unexpected or unpredictable behavior can arise from a query argument with certain
constructs described as unpredictable by <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>.
Predictable behavior can be expected, except in relation to the ordering
of objects, for any query argument conforming with <span>[<a href="#RFC7493" class="cite xref">RFC7493</a>]</span>.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Other attacks can target the behavior of underlying technologies such as UTF-8 (see
<span><a href="https://rfc-editor.org/rfc/rfc3629#section-10" class="relref">Section 10</a> of [<a href="#RFC3629" class="cite xref">RFC3629</a>]</span>) and the Unicode character set.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-5">
      <h2 id="name-references">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-5.1">
        <h3 id="name-normative-references">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="BCP26">[BCP26]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8126">https://www.rfc-editor.org/rfc/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.draft-ietf-jsonpath-iregexp">[I-D.draft-ietf-jsonpath-iregexp]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">T. Bray</span>, <span class="refTitle">"I-Regexp: An Interoperable Regexp Format"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-jsonpath-iregexp-08</span>, <time datetime="2023-06-29" class="refDate">29 June 2023</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-jsonpath-iregexp-08">https://datatracker.ietf.org/doc/html/draft-ietf-jsonpath-iregexp-08</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3629">[RFC3629]</dt>
        <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3629">https://www.rfc-editor.org/rfc/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5234">https://www.rfc-editor.org/rfc/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6838">[RFC6838]</dt>
        <dd>
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7493">[RFC7493]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The I-JSON Message Format"</span>, <span class="seriesInfo">RFC 7493</span>, <span class="seriesInfo">DOI 10.17487/RFC7493</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7493">https://www.rfc-editor.org/rfc/rfc7493</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD80">[STD80]</dt>
        <dd>
<span class="refAuthor">Cerf, V.</span>, <span class="refTitle">"ASCII format for network interchange"</span>, <span class="seriesInfo">STD 80</span>, <span class="seriesInfo">RFC 20</span>, <span class="seriesInfo">DOI 10.17487/RFC0020</span>, <time datetime="1969-10" class="refDate">October 1969</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc20">https://www.rfc-editor.org/rfc/rfc20</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UNICODE">[UNICODE]</dt>
      <dd>
<span class="refAuthor">The Unicode Consortium</span>, <span class="refTitle">"The Unicode® Standard: Version 14.0 - Core Specification"</span>, <time datetime="2021-09" class="refDate">September 2021</time>, <span>&lt;<a href="https://www.unicode.org/versions/Unicode14.0.0/UnicodeStandard-14.0.pdf">https://www.unicode.org/versions/Unicode14.0.0/UnicodeStandard-14.0.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-5.2">
        <h3 id="name-informative-references">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="BOOLEAN-LAWS">[BOOLEAN-LAWS]</dt>
        <dd>
<span class="refTitle">"Boolean algebra laws"</span>, <span>n.d.</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Boolean_algebra#Laws">https://en.wikipedia.org/wiki/Boolean_algebra#Laws</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="COMPARISON">[COMPARISON]</dt>
        <dd>
<span class="refAuthor">Burgmer, C.</span>, <span class="refTitle">"JSONPath Comparison"</span>, <span>n.d.</span>, <span>&lt;<a href="https://cburgmer.github.io/json-path-comparison/">https://cburgmer.github.io/json-path-comparison/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="E4X">[E4X]</dt>
        <dd>
<span class="refAuthor">ISO</span>, <span class="refTitle">"Information technology — ECMAScript for XML (E4X) specification"</span>, <span class="seriesInfo">ISO/IEC 22537:2006 </span>, <time datetime="2006" class="refDate">2006</time>. </dd>
<dd class="break"></dd>
<dt id="ECMA-262">[ECMA-262]</dt>
        <dd>
<span class="refAuthor">Ecma International</span>, <span class="refTitle">"ECMAScript Language Specification, Standard ECMA-262, Third Edition"</span>, <time datetime="1999-12" class="refDate">December 1999</time>, <span>&lt;<a href="https://www.ecma-international.org/wp-content/uploads/ECMA-262_3rd_edition_december_1999.pdf">https://www.ecma-international.org/wp-content/uploads/ECMA-262_3rd_edition_december_1999.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="JSONPath-orig">[JSONPath-orig]</dt>
        <dd>
<span class="refAuthor">Gössner, S.</span>, <span class="refTitle">"JSONPath — XPath for JSON"</span>, <time datetime="2007-02-21" class="refDate">21 February 2007</time>, <span>&lt;<a href="https://goessner.net/articles/JsonPath/">https://goessner.net/articles/JsonPath/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6901">[RFC6901]</dt>
        <dd>
<span class="refAuthor">Bryan, P., Ed.</span>, <span class="refAuthor">Zyp, K.</span>, and <span class="refAuthor">M. Nottingham, Ed.</span>, <span class="refTitle">"JavaScript Object Notation (JSON) Pointer"</span>, <span class="seriesInfo">RFC 6901</span>, <span class="seriesInfo">DOI 10.17487/RFC6901</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6901">https://www.rfc-editor.org/rfc/rfc6901</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8949">[RFC8949]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8949">https://www.rfc-editor.org/rfc/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SLICE">[SLICE]</dt>
        <dd>
<span class="refTitle">"Slice notation"</span>, <span>n.d.</span>, <span>&lt;<a href="https://github.com/tc39/proposal-slice-notation">https://github.com/tc39/proposal-slice-notation</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="XPath">[XPath]</dt>
      <dd>
<span class="refAuthor">Berglund, A., Ed.</span>, <span class="refAuthor">Chamberlin, D., Ed.</span>, <span class="refAuthor">Simeon, J., Ed.</span>, <span class="refAuthor">Robie, J., Ed.</span>, <span class="refAuthor">Fernandez, M., Ed.</span>, <span class="refAuthor">Kay, M., Ed.</span>, and <span class="refAuthor">S. Boag, Ed.</span>, <span class="refTitle">"XML Path Language (XPath) 2.0 (Second Edition)"</span>, <span class="seriesInfo">W3C REC REC-xpath20-20101214</span>, <span class="seriesInfo">W3C REC-xpath20-20101214</span>, <time datetime="2010-12-14" class="refDate">14 December 2010</time>, <span>&lt;<a href="https://www.w3.org/TR/2010/REC-xpath20-20101214/">https://www.w3.org/TR/2010/REC-xpath20-20101214/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="collected-abnf-grammars">
<section id="appendix-A">
      <h2 id="name-collected-abnf-grammars">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-collected-abnf-grammars" class="section-name selfRef">Collected ABNF grammars</a>
      </h2>
<p id="appendix-A-1">This appendix collects the ABNF grammar from the ABNF passages used
throughout the document.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2"><a href="#jsonpath-abnf" class="auto internal xref">Figure 2</a> contains the collected ABNF grammar that defines the
syntax of a JSONPath query.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<span id="name-collected-abnf-of-jsonpath-"></span><div id="jsonpath-abnf">
<figure id="figure-2">
        <div class="breakable lang-abnf sourcecode" id="appendix-A-3.1">
<pre>
jsonpath-query      = root-identifier segments
segments            = *(S segment)

B                   = %x20 /    ; Space
                      %x09 /    ; Horizontal tab
                      %x0A /    ; Line feed or New line
                      %x0D      ; Carriage return
S                   = *B        ; optional blank space
root-identifier     = "$"
selector            = name-selector  /
                      wildcard-selector /
                      slice-selector /
                      index-selector /
                      filter-selector
name-selector       = string-literal

string-literal      = %x22 *double-quoted %x22 /     ; "string"
                      %x27 *single-quoted %x27       ; 'string'

double-quoted       = unescaped /
                      %x27      /                    ; '
                      ESC %x22  /                    ; \"
                      ESC escapable

single-quoted       = unescaped /
                      %x22      /                    ; "
                      ESC %x27  /                    ; \'
                      ESC escapable

ESC                 = %x5C                           ; \  backslash

unescaped           = %x20-21 /                      ; see RFC 8259
                         ; omit 0x22 "
                      %x23-26 /
                         ; omit 0x27 '
                      %x28-5B /
                         ; omit 0x5C \
                      %x5D-10FFFF

escapable           = %x62 / ; b BS backspace U+0008
                      %x66 / ; f FF form feed U+000C
                      %x6E / ; n LF line feed U+000A
                      %x72 / ; r CR carriage return U+000D
                      %x74 / ; t HT horizontal tab U+0009
                      "/"  / ; / slash (solidus) U+002F
                      "\"  / ; \ backslash (reverse solidus) U+005C
                      (%x75 hexchar) ;  uXXXX      U+XXXX

hexchar             = non-surrogate /
                      (high-surrogate "\" %x75 low-surrogate)
non-surrogate       = ((DIGIT / "A"/"B"/"C" / "E"/"F") 3HEXDIG) /
                       ("D" %x30-37 2HEXDIG )
high-surrogate      = "D" ("8"/"9"/"A"/"B") 2HEXDIG
low-surrogate       = "D" ("C"/"D"/"E"/"F") 2HEXDIG

HEXDIG              = DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
wildcard-selector   = "*"
index-selector      = int                        ; decimal integer

int                 = "0" /
                      (["-"] DIGIT1 *DIGIT)      ; - optional
DIGIT1              = %x31-39                    ; 1-9 non-zero digit
slice-selector      = [start S] ":" S [end S] [":" [S step ]]

start               = int       ; included in selection
end                 = int       ; not included in selection
step                = int       ; default: 1
filter-selector     = "?" S logical-expr
logical-expr        = logical-or-expr
logical-or-expr     = logical-and-expr *(S "||" S logical-and-expr)
                        ; disjunction
                        ; binds less tightly than conjunction
logical-and-expr    = basic-expr *(S "&amp;&amp;" S basic-expr)
                        ; conjunction
                        ; binds more tightly than disjunction

basic-expr          = paren-expr /
                      comparison-expr /
                      test-expr

paren-expr          = [logical-not-op S] "(" S logical-expr S ")"
                                        ; parenthesized expression
logical-not-op      = "!"               ; logical NOT operator
test-expr           = [logical-not-op S]
                     (filter-query / ; existence/non-existence
                      function-expr) ; LogicalType or
                                     ; NodesType
filter-query        = rel-query / jsonpath-query
rel-query           = current-node-identifier segments
current-node-identifier = "@"
comparison-expr     = comparable S comparison-op S comparable
literal             = number / string-literal /
                      true / false / null
comparable          = literal /
                      singular-query / ; singular query value
                      function-expr    ; ValueType
comparison-op       = "==" / "!=" /
                      "&lt;=" / "&gt;=" /
                      "&lt;"  / "&gt;"

singular-query      = rel-singular-query / abs-singular-query
rel-singular-query  = current-node-identifier singular-query-segments
abs-singular-query  = root-identifier singular-query-segments
singular-query-segments = *(S (name-segment / index-segment))
name-segment        = ("[" name-selector "]") /
                      ("." member-name-shorthand)
index-segment       = "[" index-selector "]"
number              = (int / "-0") [ frac ] [ exp ] ; decimal number
frac                = "." 1*DIGIT                  ; decimal fraction
exp                 = "e" [ "-" / "+" ] 1*DIGIT    ; decimal exponent
true                = %x74.72.75.65                ; true
false               = %x66.61.6c.73.65             ; false
null                = %x6e.75.6c.6c                ; null
function-name       = function-name-first *function-name-char
function-name-first = LCALPHA
function-name-char  = function-name-first / "_" / DIGIT
LCALPHA             = %x61-7A  ; "a".."z"

function-expr       = function-name "(" S [function-argument
                         *(S "," S function-argument)] S ")"
function-argument   = literal /
                      filter-query / ; (includes singular-query)
                      logical-expr /
                      function-expr
segment             = child-segment / descendant-segment
child-segment       = bracketed-selection /
                      ("."
                       (wildcard-selector /
                        member-name-shorthand))

bracketed-selection = "[" S selector *(S "," S selector) S "]"

member-name-shorthand = name-first *name-char
name-first          = ALPHA /
                      "_"   /
                      %x80-10FFFF   ; any non-ASCII Unicode character
name-char           = DIGIT / name-first

DIGIT               = %x30-39              ; 0-9
ALPHA               = %x41-5A / %x61-7A    ; A-Z / a-z
descendant-segment  = ".." (bracketed-selection /
                            wildcard-selector /
                            member-name-shorthand)
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-collected-abnf-of-jsonpath-" class="selfRef">Collected ABNF of JSONPath queries</a>
        </figcaption></figure>
</div>
<p id="appendix-A-4"><a href="#normalized-path-abnf" class="auto internal xref">Figure 3</a> contains the collected ABNF grammar that
defines the syntax of a JSONPath Normalized Path, while also using the rules
<code>root-identifier</code>, <code>ESC</code>, <code>DIGIT</code>, and <code>DIGIT1</code> from <a href="#jsonpath-abnf" class="auto internal xref">Figure 2</a>.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<span id="name-collected-abnf-of-jsonpath-n"></span><div id="normalized-path-abnf">
<figure id="figure-3">
        <div class="lang-abnf sourcecode" id="appendix-A-5.1">
<pre>
normalized-path      = root-identifier *(normal-index-segment)
normal-index-segment = "[" normal-selector "]"
normal-selector      = normal-name-selector / normal-index-selector
normal-name-selector = %x27 *normal-single-quoted %x27 ; 'string'
normal-single-quoted = normal-unescaped /
                       ESC normal-escapable
normal-unescaped     =    ; omit %x0-1F control codes
                       %x20-26 /
                          ; omit 0x27 '
                       %x28-5B /
                          ; omit 0x5C \
                       %x5D-10FFFF
normal-escapable     = %x62 / ; b BS backspace U+0008
                       %x66 / ; f FF form feed U+000C
                       %x6E / ; n LF line feed U+000A
                       %x72 / ; r CR carriage return U+000D
                       %x74 / ; t HT horizontal tab U+0009
                       "'" /  ; ' apostrophe U+0027
                       "\" /  ; \ backslash (reverse solidus) U+005C
                       (%x75 normal-hexchar)
                                       ; certain values u00xx U+00XX
normal-hexchar       = "0" "0"
                       (
                          ("0" %x30-37) / ; "00"-"07"
                             ; omit U+0008-U+000A BS HT LF
                          ("0" %x62) /    ; "0b"
                             ; omit U+000C-U+000D FF CR
                          ("0" %x65-66) / ; "0e"-"0f"
                          ("1" normal-HEXDIG)
                        )
normal-HEXDIG        = DIGIT / %x61-66    ; "0"-"9", "a"-"f"
normal-index-selector = "0" / (DIGIT1 *DIGIT)
                        ; non-negative decimal integer
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-collected-abnf-of-jsonpath-n" class="selfRef">Collected ABNF of JSONPath Normalized Paths</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="inspired-by-xpath">
<section id="appendix-B">
      <h2 id="name-inspired-by-xpath">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-inspired-by-xpath" class="section-name selfRef">Inspired by XPath</a>
      </h2>
<p id="appendix-B-1">This appendix is informative.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">At the time JSONPath was invented, XML was noted for the availability of
powerful tools to analyze, transform and selectively extract data from
XML documents.
<span>[<a href="#XPath" class="cite xref">XPath</a>]</span> is one of these tools.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">In 2007, the need for something solving the same class of problems for
the emerging JSON community became apparent, specifically for:<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-4.1">Finding data interactively and extracting them out of <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>
JSON values without special scripting.<a href="#appendix-B-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-4.2">Specifying the relevant parts of the JSON data in a request by a
client, so the server can reduce the amount of data in its response,
minimizing bandwidth usage.<a href="#appendix-B-4.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-B-5">(Note: XPath has evolved since 2007, and recent versions even
nominally support operating inside JSON values.
This appendix only discusses the more widely used version of XPath
that was available in 2007.)<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<p id="appendix-B-6">JSONPath picks up the overall feeling of XPath, but maps the concepts
to syntax (and partially semantics) that would be familiar to someone
using JSON in a dynamic language.<a href="#appendix-B-6" class="pilcrow">¶</a></p>
<p id="appendix-B-7">E.g., in popular dynamic programming languages such as JavaScript,
Python and PHP, the semantics of the XPath expression<a href="#appendix-B-7" class="pilcrow">¶</a></p>
<div class="lang-xpath sourcecode" id="appendix-B-8">
<pre>
/store/book[1]/title
</pre><a href="#appendix-B-8" class="pilcrow">¶</a>
</div>
<p id="appendix-B-9">can be realized in the expression<a href="#appendix-B-9" class="pilcrow">¶</a></p>
<div class="lang-xpath sourcecode" id="appendix-B-10">
<pre>
x.store.book[0].title
</pre><a href="#appendix-B-10" class="pilcrow">¶</a>
</div>
<p id="appendix-B-11">or, in bracket notation,<a href="#appendix-B-11" class="pilcrow">¶</a></p>
<div class="lang-xpath sourcecode" id="appendix-B-12">
<pre>
x['store']['book'][0]['title']
</pre><a href="#appendix-B-12" class="pilcrow">¶</a>
</div>
<p id="appendix-B-13">with the variable x holding the query argument.<a href="#appendix-B-13" class="pilcrow">¶</a></p>
<p id="appendix-B-14">The JSONPath language was designed to:<a href="#appendix-B-14" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-15.1">be naturally based on those language characteristics;<a href="#appendix-B-15.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-15.2">cover only the most essential parts of XPath 1.0;<a href="#appendix-B-15.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-15.3">be lightweight in code size and memory consumption;<a href="#appendix-B-15.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-15.4">be runtime efficient.<a href="#appendix-B-15.4" class="pilcrow">¶</a>
</li>
      </ul>
<div id="xpath-overview">
<section id="appendix-B.1">
        <h3 id="name-jsonpath-and-xpath">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-jsonpath-and-xpath" class="section-name selfRef">JSONPath and XPath</a>
        </h3>
<p id="appendix-B.1-1">JSONPath expressions apply to JSON values in the same way
as XPath expressions are used in combination with an XML document.
JSONPath uses <code>$</code> to refer to the root node of the query argument, similar
to XPath's <code>/</code> at the front.<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<p id="appendix-B.1-2">JSONPath expressions move further down the hierarchy using <em>dot notation</em>
(<code>$.store.book[0].title</code>)
or the <em>bracket notation</em>
(<code>$['store']['book'][0]['title']</code>), a lightweight/limited, and a more
heavyweight syntax replacing XPath's <code>/</code> within query expressions.<a href="#appendix-B.1-2" class="pilcrow">¶</a></p>
<p id="appendix-B.1-3">Both JSONPath and XPath use <code>*</code> for a wildcard.
The descendant operators, starting with <code>..</code>, borrowed from <span>[<a href="#E4X" class="cite xref">E4X</a>]</span>, are similar to XPath's <code>//</code>.
The array slicing construct <code>[start:end:step]</code> is unique to JSONPath,
inspired by <span>[<a href="#SLICE" class="cite xref">SLICE</a>]</span> from ECMASCRIPT 4.<a href="#appendix-B.1-3" class="pilcrow">¶</a></p>
<p id="appendix-B.1-4">Filter expressions are supported via the syntax <code>?&lt;logical-expr&gt;</code> as in<a href="#appendix-B.1-4" class="pilcrow">¶</a></p>
<div class="lang-JSONPath sourcecode" id="appendix-B.1-5">
<pre>
$.store.book[?@.price &lt; 10].title
</pre><a href="#appendix-B.1-5" class="pilcrow">¶</a>
</div>
<p id="appendix-B.1-6"><a href="#tbl-xpath-overview" class="auto internal xref">Table 20</a> extends <a href="#tbl-overview" class="auto internal xref">Table 1</a> by providing a comparison
with similar XPath concepts.<a href="#appendix-B.1-6" class="pilcrow">¶</a></p>
<span id="name-xpath-syntax-compared-to-js"></span><div id="tbl-xpath-overview">
<table class="center" id="table-20">
          <caption>
<a href="#table-20" class="selfRef">Table 20</a>:
<a href="#name-xpath-syntax-compared-to-js" class="selfRef">XPath syntax compared to JSONPath</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">XPath</th>
              <th class="text-left" rowspan="1" colspan="1">JSONPath</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>/</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the root XML element</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>.</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>@</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the current XML element</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>/</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>.</code> or <code>[]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">child operator</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>..</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">n/a</td>
              <td class="text-left" rowspan="1" colspan="1">parent operator</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>..name</code>, <code>..[index]</code>, <code>..*</code>, or <code>..[*]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">descendants (JSONPath borrows this syntax from E4X)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">wildcard: All XML elements regardless of their names</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>@</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">n/a</td>
              <td class="text-left" rowspan="1" colspan="1">attribute access: JSON values do not have attributes</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>[]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>[]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">subscript operator used to iterate over XML element collections and for predicates</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>|</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>[,]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">Union operator (results in a combination of node sets); called list operator in JSONPath, allows combining member names, array indices, and slices</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">n/a</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>[start:end:step]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">array slice operator borrowed from ES4</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>[]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>?</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">applies a filter (script) expression</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">seamless</td>
              <td class="text-left" rowspan="1" colspan="1">n/a</td>
              <td class="text-left" rowspan="1" colspan="1">expression engine</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>()</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">n/a</td>
              <td class="text-left" rowspan="1" colspan="1">grouping</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="appendix-B.1-8">For further illustration, <a href="#tbl-xpath-equivalents" class="auto internal xref">Table 21</a> shows some XPath expressions
and their JSONPath equivalents.<a href="#appendix-B.1-8" class="pilcrow">¶</a></p>
<span id="name-example-xpath-expressions-a"></span><div id="tbl-xpath-equivalents">
<table class="center" id="table-21">
          <caption>
<a href="#table-21" class="selfRef">Table 21</a>:
<a href="#name-example-xpath-expressions-a" class="selfRef">Example XPath expressions and their JSONPath equivalents</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">XPath</th>
              <th class="text-left" rowspan="1" colspan="1">JSONPath</th>
              <th class="text-left" rowspan="1" colspan="1">Result</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>/store/book/author</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$.store.book[*].author</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the authors of all books in the store</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//author</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..author</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all authors</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>/store/*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$.store.*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all things in store, which are some books and a red bicycle</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>/store//price</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$.store..price</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the prices of everything in the store</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//book[3]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[2]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the third book</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//book[last()]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[-1]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the last book in order</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//book[position()&lt;3]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[0,1]</code><br><code>$..book[:2]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">the first two books</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//book[isbn]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[?@.isbn]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">filter all books with isbn number</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//book[price&lt;10]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..book[?@.price&lt;10]</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">filter all books cheaper than 10</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
                <code>//*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">
                <code>$..*</code>
</td>
              <td class="text-left" rowspan="1" colspan="1">all elements in XML document; all member values and array elements contained in input value</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="appendix-B.1-10">XPath has a lot more functionality (location paths in unabbreviated syntax,
operators and functions) than listed in this comparison.  Moreover, there are
significant differences in how the subscript operator works in XPath and
JSONPath:<a href="#appendix-B.1-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B.1-11.1">Square brackets in XPath expressions always operate on the <em>node
set</em> resulting from the previous path fragment. Indices always start
at 1.<a href="#appendix-B.1-11.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-B.1-11.2">With JSONPath, square brackets operate on each of the nodes in the <em>nodelist</em>
resulting from the previous query segment. Array indices always start
at 0.<a href="#appendix-B.1-11.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="json-pointer">
<section id="appendix-C">
      <h2 id="name-json-pointer">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-json-pointer" class="section-name selfRef">JSON Pointer</a>
      </h2>
<p id="appendix-C-1">This appendix is informative.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">JSONPath is not intended as a replacement for, but as a more powerful
companion to, JSON Pointer <span>[<a href="#RFC6901" class="cite xref">RFC6901</a>]</span>. The purposes of the two standards
are different.<a href="#appendix-C-2" class="pilcrow">¶</a></p>
<p id="appendix-C-3">JSON Pointer is for identifying a single value within a JSON value whose
structure is known.<a href="#appendix-C-3" class="pilcrow">¶</a></p>
<p id="appendix-C-4">JSONPath can identify a single value within a JSON value, for example by
using a Normalized Path. But JSONPath is also a query syntax that can be used
to search for and extract multiple values from JSON values whose structure
is known only in a general way.<a href="#appendix-C-4" class="pilcrow">¶</a></p>
<p id="appendix-C-5">A Normalized JSONPath can be converted into a JSON Pointer by converting the syntax,
without knowledge of any JSON value. The inverse is not generally true: a numeric
reference token (path component) in a JSON Pointer may identify a member value of an object or an element of an array.
For conversion to a JSONPath query, knowledge of the structure of the JSON value is
needed to distinguish these cases.<a href="#appendix-C-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgements">
<section id="appendix-D">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-D-1">This document is based on <span class="contact-name">Stefan Gössner</span>'s
original online article defining JSONPath <span>[<a href="#JSONPath-orig" class="cite xref">JSONPath-orig</a>]</span>.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<p id="appendix-D-2">The books example was taken from
http://coli.lili.uni-bielefeld.de/~andreas/Seminare/sommer02/books.xml
— a dead link now.<a href="#appendix-D-2" class="pilcrow">¶</a></p>
<p id="appendix-D-3">This work is indebted to Christoph Burgmer for the superb
JSONPath comparison project <span>[<a href="#COMPARISON" class="cite xref">COMPARISON</a>]</span> detailing the behavior of over forty JSONPath
implementations applied to numerous queries.<a href="#appendix-D-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="appendix-E">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marko Mikulicic</span></div>
<div dir="auto" class="left"><span class="org">InfluxData, Inc.</span></div>
<div dir="auto" class="left">
<span class="locality">Pisa</span> </div>
<div dir="auto" class="left"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mmikulicic@gmail.com" class="email">mmikulicic@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Edward Surov</span></div>
<div dir="auto" class="left"><span class="org">TheSoul Publishing Ltd.</span></div>
<div dir="auto" class="left"><span class="locality">Limassol</span></div>
<div dir="auto" class="left"><span class="country-name">Cyprus</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:esurov.tsp@gmail.com" class="email">esurov.tsp@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Greg Dennis</span></div>
<div dir="auto" class="left">
<span class="locality">Auckland</span> </div>
<div dir="auto" class="left"><span class="country-name">New Zealand</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gregsdennis@yahoo.com" class="email">gregsdennis@yahoo.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://github.com/gregsdennis" class="url">https://github.com/gregsdennis</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-F">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Stefan Gössner (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Fachhochschule Dortmund</span></div>
<div dir="auto" class="left"><span class="street-address">Sonnenstraße 96</span></div>
<div dir="auto" class="left">
<span class="postal-code">D-44139</span> <span class="locality">Dortmund</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:stefan.goessner@fh-dortmund.de" class="email">stefan.goessner@fh-dortmund.de</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Glyn Normington (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="locality">Winchester</span></div>
<div dir="auto" class="left"><span class="country-name">United Kingdom</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:glyn.normington@gmail.com" class="email">glyn.normington@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Carsten Bormann (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Universität Bremen TZI</span></div>
<div dir="auto" class="left"><span class="street-address">Postfach 330440</span></div>
<div dir="auto" class="left">
<span class="postal-code">D-28359</span> <span class="locality">Bremen</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+49-421-218-63921" class="tel">+49-421-218-63921</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:cabo@tzi.org" class="email">cabo@tzi.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
